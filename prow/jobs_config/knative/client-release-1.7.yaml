# #############################################################################
# ####                                                                     ####
# ####     THIS FILE IS AUTOMATICALLY GENERATED by release-jobs-syncer.    ####
# ####        PLEASE ONLY MODIFY IT MANUALLY WHEN ACTUALLY NEEDED.         ####
# ####                                                                     ####
# #############################################################################
branches:
- release-1.7
cluster: prow-build
image: gcr.io/knative-tests/test-infra/prow-tests:v20221207-44150234
jobs:
- command:
  - runner.sh
  - ./test/presubmit-tests.sh
  - --build-tests
  excluded_requirements:
  - gcp
  name: build-tests
  types:
  - presubmit
- command:
  - runner.sh
  - ./test/presubmit-tests.sh
  - --unit-tests
  excluded_requirements:
  - gcp
  name: unit-tests
  types:
  - presubmit
- command:
  - runner.sh
  - ./test/presubmit-tests.sh
  - --integration-tests
  name: integration-tests
  types:
  - presubmit
- command:
  - runner.sh
  - ./test/presubmit-integration-tests-latest-release.sh
  name: integration-tests-latest-release
  types:
  - presubmit
- command:
  - runner.sh
  - ./test/presubmit-tests.sh
  - --all-tests
  name: continuous
  types:
  - periodic
- args:
  - bash
  - -c
  - |
    mkdir -p /root/.kube
    cat /opt/cluster/ci-script > connect.sh
    chmod +x connect.sh
    ./connect.sh client-17
    kubectl get cm s390x-config-client -n default -o jsonpath='{.data.adjustment-script}' > adjust.sh
    chmod +x adjust.sh
    ./adjust.sh
    ./test/e2e-tests.sh --run-tests
  command:
  - runner.sh
  cron: 20 5 * * *
  env:
  - name: INGRESS_CLASS
    value: contour.ingress.networking.knative.dev
  name: s390x-e2e-tests
  requirements:
  - s390x
  types:
  - periodic
- args:
  - bash
  - -c
  - |
    cat /opt/cluster/ci-script > /tmp/connect.sh
    chmod +x /tmp/connect.sh
    . /tmp/connect.sh ${CI_JOB}
    ./test/e2e-tests.sh --run-tests
  command:
  - runner.sh
  cron: 30 19 * * *
  env:
  - name: INGRESS_CLASS
    value: contour.ingress.networking.knative.dev
  - name: CI_JOB
    value: client-release-1.7
  name: ppc64le-e2e-tests
  requirements:
  - ppc64le
  types:
  - periodic
- command:
  - runner.sh
  - ./hack/release.sh
  - --dot-release
  - --release-gcs
  - knative-releases/client
  - --release-gcr
  - gcr.io/knative-releases
  - --github-token
  - /etc/hub-token/token
  - --branch
  - release-1.7
  excluded_requirements:
  - gcp
  name: release
  max_concurrency: 1
  requirements:
  - release
  types:
  - periodic
org: knative
repo: client
