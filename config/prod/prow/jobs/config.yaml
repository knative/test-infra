# Copyright 2020 The Knative Authors
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
# #######################################################################
# ####                                                               ####
# ####      THIS FILE IS AUTOMATICALLY GENERATED. DO NOT EDIT.       ####
# ####   USE "./hack/generate-configs.sh" TO REGENERATE THIS FILE.   ####
# ####                                                               ####
# #######################################################################
presubmits:
  knative/serving:
  - name: pull-knative-serving-build-tests
    agent: kubernetes
    context: pull-knative-serving-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-serving-build-tests"
    trigger: "(?m)^/test (all|pull-knative-serving-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/serving
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
        resources:
          requests:
            memory: 12Gi
          limits:
            memory: 16Gi
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-serving-unit-tests
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-knative-serving-unit-tests
    context: pull-knative-serving-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-serving-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-serving-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/serving
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-serving-upgrade-tests
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-knative-serving-upgrade-tests
    context: pull-knative-serving-upgrade-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-serving-upgrade-tests"
    trigger: "(?m)^/test (all|pull-knative-serving-upgrade-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/serving
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-upgrade-tests.sh"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
        resources:
          requests:
            memory: 12Gi
          limits:
            memory: 16Gi
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-serving-istio-latest-mesh
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-knative-serving-istio-latest-mesh
    context: pull-knative-serving-istio-latest-mesh
    always_run: false
    optional: true
    rerun_command: "/test pull-knative-serving-istio-latest-mesh"
    trigger: "(?m)^/test (all|pull-knative-serving-istio-latest-mesh),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/serving
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-tests.sh --istio-version latest --mesh"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
        resources:
          requests:
            memory: 12Gi
          limits:
            memory: 16Gi
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-serving-istio-latest-mesh-short
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-knative-serving-istio-latest-mesh-short
    context: pull-knative-serving-istio-latest-mesh-short
    always_run: false
    optional: true
    rerun_command: "/test pull-knative-serving-istio-latest-mesh-short"
    trigger: "(?m)^/test (all|pull-knative-serving-istio-latest-mesh-short),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/serving
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-tests.sh --istio-version latest --mesh --short"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
        resources:
          requests:
            memory: 12Gi
          limits:
            memory: 16Gi
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-serving-istio-latest-mesh-tls
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-knative-serving-istio-latest-mesh-tls
    context: pull-knative-serving-istio-latest-mesh-tls
    always_run: false
    optional: true
    rerun_command: "/test pull-knative-serving-istio-latest-mesh-tls"
    trigger: "(?m)^/test (all|pull-knative-serving-istio-latest-mesh-tls),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/serving
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-auto-tls-tests.sh --istio-version latest --mesh"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
        resources:
          requests:
            memory: 12Gi
          limits:
            memory: 16Gi
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-serving-istio-latest-no-mesh
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-knative-serving-istio-latest-no-mesh
    context: pull-knative-serving-istio-latest-no-mesh
    always_run: false
    optional: true
    rerun_command: "/test pull-knative-serving-istio-latest-no-mesh"
    trigger: "(?m)^/test (all|pull-knative-serving-istio-latest-no-mesh),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/serving
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-tests.sh --istio-version latest --no-mesh"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
        resources:
          requests:
            memory: 12Gi
          limits:
            memory: 16Gi
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-serving-istio-latest-no-mesh-tls
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-knative-serving-istio-latest-no-mesh-tls
    context: pull-knative-serving-istio-latest-no-mesh-tls
    always_run: false
    optional: true
    rerun_command: "/test pull-knative-serving-istio-latest-no-mesh-tls"
    trigger: "(?m)^/test (all|pull-knative-serving-istio-latest-no-mesh-tls),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/serving
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-auto-tls-tests.sh --istio-version latest --no-mesh"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
        resources:
          requests:
            memory: 12Gi
          limits:
            memory: 16Gi
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-serving-istio-stable-mesh
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-knative-serving-istio-stable-mesh
    context: pull-knative-serving-istio-stable-mesh
    always_run: false
    optional: true
    run_if_changed: "^third_party/istio-latest/net-istio.yaml"
    rerun_command: "/test pull-knative-serving-istio-stable-mesh"
    trigger: "(?m)^/test (all|pull-knative-serving-istio-stable-mesh),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/serving
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-tests.sh --istio-version stable --mesh"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
        resources:
          requests:
            memory: 12Gi
          limits:
            memory: 16Gi
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-serving-istio-stable-mesh-short
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-knative-serving-istio-stable-mesh-short
    context: pull-knative-serving-istio-stable-mesh-short
    always_run: false
    optional: true
    run_if_changed: "^third_party/istio-latest/net-istio.yaml"
    rerun_command: "/test pull-knative-serving-istio-stable-mesh-short"
    trigger: "(?m)^/test (all|pull-knative-serving-istio-stable-mesh-short),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/serving
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-tests.sh --istio-version stable --mesh --short"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
        resources:
          requests:
            memory: 12Gi
          limits:
            memory: 16Gi
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-serving-istio-stable-mesh-tls
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-knative-serving-istio-stable-mesh-tls
    context: pull-knative-serving-istio-stable-mesh-tls
    always_run: false
    optional: true
    run_if_changed: "^third_party/istio-latest/net-istio.yaml"
    rerun_command: "/test pull-knative-serving-istio-stable-mesh-tls"
    trigger: "(?m)^/test (all|pull-knative-serving-istio-stable-mesh-tls),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/serving
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-auto-tls-tests.sh --istio-version stable --mesh"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
        resources:
          requests:
            memory: 12Gi
          limits:
            memory: 16Gi
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-serving-istio-stable-no-mesh
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-knative-serving-istio-stable-no-mesh
    context: pull-knative-serving-istio-stable-no-mesh
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-serving-istio-stable-no-mesh"
    trigger: "(?m)^/test (all|pull-knative-serving-istio-stable-no-mesh),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/serving
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-tests.sh --istio-version stable --no-mesh"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
        resources:
          requests:
            memory: 12Gi
          limits:
            memory: 16Gi
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-serving-istio-stable-no-mesh-tls
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-knative-serving-istio-stable-no-mesh-tls
    context: pull-knative-serving-istio-stable-no-mesh-tls
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-serving-istio-stable-no-mesh-tls"
    trigger: "(?m)^/test (all|pull-knative-serving-istio-stable-no-mesh-tls),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/serving
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-auto-tls-tests.sh --istio-version stable --no-mesh"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
        resources:
          requests:
            memory: 12Gi
          limits:
            memory: 16Gi
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-serving-istio-stable-no-mesh-tls-with-http01
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-knative-serving-istio-stable-no-mesh-tls-with-http01
    context: pull-knative-serving-istio-stable-no-mesh-tls-with-http01
    always_run: false
    optional: true
    rerun_command: "/test pull-knative-serving-istio-stable-no-mesh-tls-with-http01"
    trigger: "(?m)^/test (all|pull-knative-serving-istio-stable-no-mesh-tls-with-http01),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/serving
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-auto-tls-tests.sh --istio-version stable --no-mesh --run-http01-auto-tls-tests"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
        resources:
          requests:
            memory: 12Gi
          limits:
            memory: 16Gi
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-serving-kourier-stable
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-knative-serving-kourier-stable
    context: pull-knative-serving-kourier-stable
    always_run: false
    optional: false
    run_if_changed: "^third_party/kourier-latest/*"
    rerun_command: "/test pull-knative-serving-kourier-stable"
    trigger: "(?m)^/test (all|pull-knative-serving-kourier-stable),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/serving
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-tests.sh --kourier-version stable"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
        resources:
          requests:
            memory: 12Gi
          limits:
            memory: 16Gi
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-serving-kourier-stable-tls
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-knative-serving-kourier-stable-tls
    context: pull-knative-serving-kourier-stable-tls
    always_run: false
    optional: false
    run_if_changed: "^third_party/kourier-latest/*"
    rerun_command: "/test pull-knative-serving-kourier-stable-tls"
    trigger: "(?m)^/test (all|pull-knative-serving-kourier-stable-tls),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/serving
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-auto-tls-tests.sh --kourier-version stable"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
        resources:
          requests:
            memory: 12Gi
          limits:
            memory: 16Gi
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-serving-contour-latest
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-knative-serving-contour-latest
    context: pull-knative-serving-contour-latest
    always_run: false
    optional: false
    run_if_changed: "^third_party/contour-latest/*"
    rerun_command: "/test pull-knative-serving-contour-latest"
    trigger: "(?m)^/test (all|pull-knative-serving-contour-latest),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/serving
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-tests.sh --contour-version latest"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
        resources:
          requests:
            memory: 12Gi
          limits:
            memory: 16Gi
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-serving-contour-tls
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-knative-serving-contour-tls
    context: pull-knative-serving-contour-tls
    always_run: false
    optional: false
    run_if_changed: "^third_party/contour-latest/*"
    rerun_command: "/test pull-knative-serving-contour-tls"
    trigger: "(?m)^/test (all|pull-knative-serving-contour-tls),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/serving
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-auto-tls-tests.sh --contour-version latest"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
        resources:
          requests:
            memory: 12Gi
          limits:
            memory: 16Gi
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-serving-ambassador-latest
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-knative-serving-ambassador-latest
    context: pull-knative-serving-ambassador-latest
    always_run: false
    optional: true
    run_if_changed: "^third_party/ambassador-latest/*"
    rerun_command: "/test pull-knative-serving-ambassador-latest"
    trigger: "(?m)^/test (all|pull-knative-serving-ambassador-latest),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/serving
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-tests.sh --ambassador-version latest"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
        resources:
          requests:
            memory: 12Gi
          limits:
            memory: 16Gi
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-serving-ambassador-latest-tls
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-knative-serving-ambassador-latest-tls
    context: pull-knative-serving-ambassador-latest-tls
    always_run: false
    optional: true
    run_if_changed: "^third_party/ambassador-latest/*"
    rerun_command: "/test pull-knative-serving-ambassador-latest-tls"
    trigger: "(?m)^/test (all|pull-knative-serving-ambassador-latest-tls),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/serving
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-auto-tls-tests.sh --ambassador-version latest"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
        resources:
          requests:
            memory: 12Gi
          limits:
            memory: 16Gi
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-serving-kong-latest
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-knative-serving-kong-latest
    context: pull-knative-serving-kong-latest
    always_run: false
    optional: true
    run_if_changed: "^third_party/kong-latest/*"
    rerun_command: "/test pull-knative-serving-kong-latest"
    trigger: "(?m)^/test (all|pull-knative-serving-kong-latest),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/serving
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-tests.sh --kong-version latest"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
        resources:
          requests:
            memory: 12Gi
          limits:
            memory: 16Gi
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-serving-kong-latest-tls
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-knative-serving-kong-latest-tls
    context: pull-knative-serving-kong-latest-tls
    always_run: false
    optional: true
    run_if_changed: "^third_party/kong-latest/*"
    rerun_command: "/test pull-knative-serving-kong-latest-tls"
    trigger: "(?m)^/test (all|pull-knative-serving-kong-latest-tls),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/serving
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-auto-tls-tests.sh --kong-version latest"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
        resources:
          requests:
            memory: 12Gi
          limits:
            memory: 16Gi
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-serving-https
    agent: kubernetes
    context: pull-knative-serving-https
    always_run: false
    optional: true
    run_if_changed: "^third_party/cert-manager-latest/*"
    rerun_command: "/test pull-knative-serving-https"
    trigger: "(?m)^/test (all|pull-knative-serving-https),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/serving
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-tests.sh --https"
        - "--run-test"
        - "./test/e2e-auto-tls-tests.sh --https"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  knative/client:
  - name: pull-knative-client-build-tests
    agent: kubernetes
    context: pull-knative-client-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-client-build-tests"
    trigger: "(?m)^/test (all|pull-knative-client-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/client
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-client-unit-tests
    agent: kubernetes
    context: pull-knative-client-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-client-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-client-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/client
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-client-integration-tests
    agent: kubernetes
    context: pull-knative-client-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-client-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-client-integration-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/client
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--integration-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-client-go-coverage
    agent: kubernetes
    context: pull-knative-client-go-coverage
    always_run: true
    rerun_command: "/test pull-knative-client-go-coverage"
    trigger: "(?m)^/test (all|pull-knative-client-go-coverage),?(\\s+|$)"
    optional: true
    decorate: true
    path_alias: knative.dev/client
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "coverage"
        - "--postsubmit-job-name=post-knative-client-go-coverage"
        - "--artifacts=$(ARTIFACTS)"
        - "--cov-threshold-percentage=50"
        - "--github-token=/etc/covbot-token/token"
        volumeMounts:
        - name: covbot-token
          mountPath: /etc/covbot-token
          readOnly: true
      volumes:
      - name: covbot-token
        secret:
          secretName: covbot-token
  - name: pull-knative-client-integration-tests-latest-release
    agent: kubernetes
    context: pull-knative-client-integration-tests-latest-release
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-client-integration-tests-latest-release"
    trigger: "(?m)^/test (all|pull-knative-client-integration-tests-latest-release),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/client
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-integration-tests-latest-release.sh"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  knative/client-contrib:
  - name: pull-knative-client-contrib-build-tests
    agent: kubernetes
    context: pull-knative-client-contrib-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-client-contrib-build-tests"
    trigger: "(?m)^/test (all|pull-knative-client-contrib-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/client-contrib
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-client-contrib-unit-tests
    agent: kubernetes
    context: pull-knative-client-contrib-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-client-contrib-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-client-contrib-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/client-contrib
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-client-contrib-integration-tests
    agent: kubernetes
    context: pull-knative-client-contrib-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-client-contrib-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-client-contrib-integration-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/client-contrib
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--integration-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  knative-sandbox/kn-plugin-diag:
  - name: pull-knative-sandbox-kn-plugin-diag-build-tests
    agent: kubernetes
    context: pull-knative-sandbox-kn-plugin-diag-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kn-plugin-diag-build-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kn-plugin-diag-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kn-plugin-diag
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-kn-plugin-diag-unit-tests
    agent: kubernetes
    context: pull-knative-sandbox-kn-plugin-diag-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kn-plugin-diag-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kn-plugin-diag-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kn-plugin-diag
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-kn-plugin-diag-integration-tests
    agent: kubernetes
    context: pull-knative-sandbox-kn-plugin-diag-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kn-plugin-diag-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kn-plugin-diag-integration-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kn-plugin-diag
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--integration-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  knative-sandbox/kn-plugin-event:
  - name: pull-knative-sandbox-kn-plugin-event-build-tests
    agent: kubernetes
    context: pull-knative-sandbox-kn-plugin-event-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kn-plugin-event-build-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kn-plugin-event-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kn-plugin-event
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-kn-plugin-event-unit-tests
    agent: kubernetes
    context: pull-knative-sandbox-kn-plugin-event-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kn-plugin-event-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kn-plugin-event-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kn-plugin-event
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-kn-plugin-event-integration-tests
    agent: kubernetes
    context: pull-knative-sandbox-kn-plugin-event-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kn-plugin-event-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kn-plugin-event-integration-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kn-plugin-event
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--integration-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  knative-sandbox/kn-plugin-migration:
  - name: pull-knative-sandbox-kn-plugin-migration-build-tests
    agent: kubernetes
    context: pull-knative-sandbox-kn-plugin-migration-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kn-plugin-migration-build-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kn-plugin-migration-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kn-plugin-migration
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-kn-plugin-migration-unit-tests
    agent: kubernetes
    context: pull-knative-sandbox-kn-plugin-migration-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kn-plugin-migration-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kn-plugin-migration-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kn-plugin-migration
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-kn-plugin-migration-integration-tests
    agent: kubernetes
    context: pull-knative-sandbox-kn-plugin-migration-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kn-plugin-migration-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kn-plugin-migration-integration-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kn-plugin-migration
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--integration-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  knative-sandbox/kn-plugin-sample:
  - name: pull-knative-sandbox-kn-plugin-sample-build-tests
    agent: kubernetes
    context: pull-knative-sandbox-kn-plugin-sample-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kn-plugin-sample-build-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kn-plugin-sample-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kn-plugin-sample
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-kn-plugin-sample-unit-tests
    agent: kubernetes
    context: pull-knative-sandbox-kn-plugin-sample-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kn-plugin-sample-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kn-plugin-sample-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kn-plugin-sample
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-kn-plugin-sample-integration-tests
    agent: kubernetes
    context: pull-knative-sandbox-kn-plugin-sample-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kn-plugin-sample-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kn-plugin-sample-integration-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kn-plugin-sample
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--integration-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  knative-sandbox/kn-plugin-service-log:
  - name: pull-knative-sandbox-kn-plugin-service-log-build-tests
    agent: kubernetes
    context: pull-knative-sandbox-kn-plugin-service-log-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kn-plugin-service-log-build-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kn-plugin-service-log-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kn-plugin-service-log
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-kn-plugin-service-log-unit-tests
    agent: kubernetes
    context: pull-knative-sandbox-kn-plugin-service-log-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kn-plugin-service-log-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kn-plugin-service-log-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kn-plugin-service-log
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-kn-plugin-service-log-integration-tests
    agent: kubernetes
    context: pull-knative-sandbox-kn-plugin-service-log-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kn-plugin-service-log-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kn-plugin-service-log-integration-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kn-plugin-service-log
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--integration-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  knative-sandbox/kn-plugin-source-kafka:
  - name: pull-knative-sandbox-kn-plugin-source-kafka-build-tests
    agent: kubernetes
    context: pull-knative-sandbox-kn-plugin-source-kafka-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kn-plugin-source-kafka-build-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kn-plugin-source-kafka-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kn-plugin-source-kafka
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-kn-plugin-source-kafka-unit-tests
    agent: kubernetes
    context: pull-knative-sandbox-kn-plugin-source-kafka-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kn-plugin-source-kafka-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kn-plugin-source-kafka-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kn-plugin-source-kafka
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-kn-plugin-source-kafka-integration-tests
    agent: kubernetes
    context: pull-knative-sandbox-kn-plugin-source-kafka-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kn-plugin-source-kafka-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kn-plugin-source-kafka-integration-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kn-plugin-source-kafka
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--integration-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  knative-sandbox/kn-plugin-source-kamelet:
  - name: pull-knative-sandbox-kn-plugin-source-kamelet-build-tests
    agent: kubernetes
    context: pull-knative-sandbox-kn-plugin-source-kamelet-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kn-plugin-source-kamelet-build-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kn-plugin-source-kamelet-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kn-plugin-source-kamelet
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-kn-plugin-source-kamelet-unit-tests
    agent: kubernetes
    context: pull-knative-sandbox-kn-plugin-source-kamelet-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kn-plugin-source-kamelet-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kn-plugin-source-kamelet-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kn-plugin-source-kamelet
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-kn-plugin-source-kamelet-integration-tests
    agent: kubernetes
    context: pull-knative-sandbox-kn-plugin-source-kamelet-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kn-plugin-source-kamelet-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kn-plugin-source-kamelet-integration-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kn-plugin-source-kamelet
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--integration-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  knative-sandbox/kn-plugin-admin:
  - name: pull-knative-sandbox-kn-plugin-admin-build-tests
    agent: kubernetes
    context: pull-knative-sandbox-kn-plugin-admin-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kn-plugin-admin-build-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kn-plugin-admin-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kn-plugin-admin
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-kn-plugin-admin-unit-tests
    agent: kubernetes
    context: pull-knative-sandbox-kn-plugin-admin-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kn-plugin-admin-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kn-plugin-admin-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kn-plugin-admin
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-kn-plugin-admin-integration-tests
    agent: kubernetes
    context: pull-knative-sandbox-kn-plugin-admin-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kn-plugin-admin-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kn-plugin-admin-integration-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kn-plugin-admin
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--integration-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  knative-sandbox/kn-plugin-quickstart:
  - name: pull-knative-sandbox-kn-plugin-quickstart-build-tests
    agent: kubernetes
    context: pull-knative-sandbox-kn-plugin-quickstart-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kn-plugin-quickstart-build-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kn-plugin-quickstart-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kn-plugin-quickstart
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-kn-plugin-quickstart-unit-tests
    agent: kubernetes
    context: pull-knative-sandbox-kn-plugin-quickstart-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kn-plugin-quickstart-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kn-plugin-quickstart-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kn-plugin-quickstart
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-kn-plugin-quickstart-integration-tests
    agent: kubernetes
    context: pull-knative-sandbox-kn-plugin-quickstart-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kn-plugin-quickstart-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kn-plugin-quickstart-integration-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kn-plugin-quickstart
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--integration-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  knative/eventing:
  - name: pull-knative-eventing-build-tests
    agent: kubernetes
    context: pull-knative-eventing-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-eventing-build-tests"
    trigger: "(?m)^/test (all|pull-knative-eventing-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/eventing
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
        resources:
          requests:
            memory: 12Gi
          limits:
            memory: 16Gi
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-eventing-unit-tests
    agent: kubernetes
    context: pull-knative-eventing-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-eventing-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-eventing-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/eventing
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-eventing-integration-tests
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-knative-eventing-integration-tests
    context: pull-knative-eventing-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-eventing-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-eventing-integration-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/eventing
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-tests.sh"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-eventing-reconciler-tests
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-knative-eventing-reconciler-tests
    context: pull-knative-eventing-reconciler-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-eventing-reconciler-tests"
    trigger: "(?m)^/test (all|pull-knative-eventing-reconciler-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/eventing
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-rekt-tests.sh"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-eventing-conformance-tests
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-knative-eventing-conformance-tests
    context: pull-knative-eventing-conformance-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-eventing-conformance-tests"
    trigger: "(?m)^/test (all|pull-knative-eventing-conformance-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/eventing
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-conformance-tests.sh"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-eventing-upgrade-tests
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-knative-eventing-upgrade-tests
    context: pull-knative-eventing-upgrade-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-eventing-upgrade-tests"
    trigger: "(?m)^/test (all|pull-knative-eventing-upgrade-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/eventing
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-upgrade-tests.sh"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-eventing-go-coverage
    agent: kubernetes
    context: pull-knative-eventing-go-coverage
    always_run: true
    rerun_command: "/test pull-knative-eventing-go-coverage"
    trigger: "(?m)^/test (all|pull-knative-eventing-go-coverage),?(\\s+|$)"
    optional: true
    decorate: true
    path_alias: knative.dev/eventing
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "coverage"
        - "--postsubmit-job-name=post-knative-eventing-go-coverage"
        - "--artifacts=$(ARTIFACTS)"
        - "--cov-threshold-percentage=50"
        - "--github-token=/etc/covbot-token/token"
        volumeMounts:
        - name: covbot-token
          mountPath: /etc/covbot-token
          readOnly: true
      volumes:
      - name: covbot-token
        secret:
          secretName: covbot-token
  knative/docs:
  - name: pull-knative-docs-build-tests
    agent: kubernetes
    context: pull-knative-docs-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-docs-build-tests"
    trigger: "(?m)^/test (all|pull-knative-docs-build-tests),?(\\s+|$)"
    decorate: true
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-docs-unit-tests
    agent: kubernetes
    context: pull-knative-docs-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-docs-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-docs-unit-tests),?(\\s+|$)"
    decorate: true
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-docs-integration-tests
    agent: kubernetes
    context: pull-knative-docs-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-docs-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-docs-integration-tests),?(\\s+|$)"
    decorate: true
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--integration-tests"
        securityContext:
          privileged: true
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: docker-graph
          mountPath: /docker-graph
        - name: modules
          mountPath: /lib/modules
        - name: cgroup
          mountPath: /sys/fs/cgroup
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: DOCKER_IN_DOCKER_ENABLED
          value: "true"
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: docker-graph
        emptyDir: {}
      - name: modules
        hostPath:
          path: /lib/modules
          type: Directory
      - name: cgroup
        hostPath:
          path: /sys/fs/cgroup
          type: Directory
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-docs-go-coverage
    agent: kubernetes
    context: pull-knative-docs-go-coverage
    always_run: true
    rerun_command: "/test pull-knative-docs-go-coverage"
    trigger: "(?m)^/test (all|pull-knative-docs-go-coverage),?(\\s+|$)"
    optional: true
    decorate: true
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "coverage"
        - "--postsubmit-job-name=post-knative-docs-go-coverage"
        - "--artifacts=$(ARTIFACTS)"
        - "--cov-threshold-percentage=50"
        - "--github-token=/etc/covbot-token/token"
        volumeMounts:
        - name: covbot-token
          mountPath: /etc/covbot-token
          readOnly: true
      volumes:
      - name: covbot-token
        secret:
          secretName: covbot-token
  knative/pkg:
  - name: pull-knative-pkg-build-tests
    agent: kubernetes
    context: pull-knative-pkg-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-pkg-build-tests"
    trigger: "(?m)^/test (all|pull-knative-pkg-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/pkg
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-pkg-unit-tests
    agent: kubernetes
    context: pull-knative-pkg-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-pkg-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-pkg-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/pkg
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-pkg-integration-tests
    agent: kubernetes
    context: pull-knative-pkg-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-pkg-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-pkg-integration-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/pkg
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--integration-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  knative/test-infra:
  - name: pull-knative-test-infra-build-tests
    agent: kubernetes
    context: pull-knative-test-infra-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-test-infra-build-tests"
    trigger: "(?m)^/test (all|pull-knative-test-infra-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/test-infra
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-test-infra-unit-tests
    agent: kubernetes
    context: pull-knative-test-infra-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-test-infra-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-test-infra-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/test-infra
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-test-infra-go-coverage
    agent: kubernetes
    context: pull-knative-test-infra-go-coverage
    always_run: true
    rerun_command: "/test pull-knative-test-infra-go-coverage"
    trigger: "(?m)^/test (all|pull-knative-test-infra-go-coverage),?(\\s+|$)"
    optional: true
    decorate: true
    path_alias: knative.dev/test-infra
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "coverage"
        - "--postsubmit-job-name=post-knative-test-infra-go-coverage"
        - "--artifacts=$(ARTIFACTS)"
        - "--cov-threshold-percentage=50"
        - "--github-token=/etc/covbot-token/token"
        volumeMounts:
        - name: covbot-token
          mountPath: /etc/covbot-token
          readOnly: true
      volumes:
      - name: covbot-token
        secret:
          secretName: covbot-token
  knative/hack:
  - name: pull-knative-hack-build-tests
    agent: kubernetes
    context: pull-knative-hack-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-hack-build-tests"
    trigger: "(?m)^/test (all|pull-knative-hack-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/hack
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-hack-unit-tests
    agent: kubernetes
    context: pull-knative-hack-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-hack-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-hack-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/hack
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-hack-integration-tests
    agent: kubernetes
    context: pull-knative-hack-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-hack-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-hack-integration-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/hack
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-tests.sh"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-hack-kind-tests
    agent: kubernetes
    context: pull-knative-hack-kind-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-hack-kind-tests"
    trigger: "(?m)^/test (all|pull-knative-hack-kind-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/hack
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-kind.sh"
        securityContext:
          privileged: true
        volumeMounts:
        - name: docker-graph
          mountPath: /docker-graph
        - name: modules
          mountPath: /lib/modules
        - name: cgroup
          mountPath: /sys/fs/cgroup
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: DOCKER_IN_DOCKER_ENABLED
          value: "true"
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: docker-graph
        emptyDir: {}
      - name: modules
        hostPath:
          path: /lib/modules
          type: Directory
      - name: cgroup
        hostPath:
          path: /sys/fs/cgroup
          type: Directory
      - name: test-account
        secret:
          secretName: test-account
  knative/caching:
  - name: pull-knative-caching-build-tests
    agent: kubernetes
    context: pull-knative-caching-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-caching-build-tests"
    trigger: "(?m)^/test (all|pull-knative-caching-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/caching
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-caching-unit-tests
    agent: kubernetes
    context: pull-knative-caching-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-caching-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-caching-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/caching
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-caching-integration-tests
    agent: kubernetes
    context: pull-knative-caching-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-caching-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-caching-integration-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/caching
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--integration-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  knative-sandbox/sample-controller:
  - name: pull-knative-sandbox-sample-controller-build-tests
    agent: kubernetes
    context: pull-knative-sandbox-sample-controller-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-sample-controller-build-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-sample-controller-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/sample-controller
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-sample-controller-unit-tests
    agent: kubernetes
    context: pull-knative-sandbox-sample-controller-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-sample-controller-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-sample-controller-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/sample-controller
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  knative-sandbox/sample-source:
  - name: pull-knative-sandbox-sample-source-build-tests
    agent: kubernetes
    context: pull-knative-sandbox-sample-source-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-sample-source-build-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-sample-source-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/sample-source
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-sample-source-unit-tests
    agent: kubernetes
    context: pull-knative-sandbox-sample-source-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-sample-source-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-sample-source-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/sample-source
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  google/knative-gcp:
  - name: pull-google-knative-gcp-build-tests
    agent: kubernetes
    context: pull-google-knative-gcp-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-google-knative-gcp-build-tests"
    trigger: "(?m)^/test (all|pull-google-knative-gcp-build-tests),?(\\s+|$)"
    decorate: true
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
        resources:
          requests:
            memory: 12Gi
          limits:
            memory: 16Gi
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-google-knative-gcp-unit-tests
    agent: kubernetes
    context: pull-google-knative-gcp-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-google-knative-gcp-unit-tests"
    trigger: "(?m)^/test (all|pull-google-knative-gcp-unit-tests),?(\\s+|$)"
    decorate: true
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-google-knative-gcp-integration-tests
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-google-knative-gcp-integration-tests
    context: pull-google-knative-gcp-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-google-knative-gcp-integration-tests"
    trigger: "(?m)^/test (all|pull-google-knative-gcp-integration-tests),?(\\s+|$)"
    decorate: true
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-tests.sh"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: ENABLE_AUTH_CHECK_TEST
          value: "true"
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
        resources:
          requests:
            memory: 12Gi
          limits:
            memory: 16Gi
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-google-knative-gcp-wi-tests
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-google-knative-gcp-wi-tests
    context: pull-google-knative-gcp-wi-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-google-knative-gcp-wi-tests"
    trigger: "(?m)^/test (all|pull-google-knative-gcp-wi-tests),?(\\s+|$)"
    decorate: true
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-wi-tests.sh"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: ENABLE_AUTH_CHECK_TEST
          value: "true"
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
        resources:
          requests:
            memory: 12Gi
          limits:
            memory: 16Gi
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-google-knative-gcp-upgrade-tests
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-google-knative-gcp-upgrade-tests
    context: pull-google-knative-gcp-upgrade-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-google-knative-gcp-upgrade-tests"
    trigger: "(?m)^/test (all|pull-google-knative-gcp-upgrade-tests),?(\\s+|$)"
    decorate: true
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-upgrade-tests.sh"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
        resources:
          requests:
            memory: 12Gi
          limits:
            memory: 16Gi
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-google-knative-gcp-conformance-tests
    agent: kubernetes
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: pull-google-knative-gcp-conformance-tests
    context: pull-google-knative-gcp-conformance-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-google-knative-gcp-conformance-tests"
    trigger: "(?m)^/test (all|pull-google-knative-gcp-conformance-tests),?(\\s+|$)"
    decorate: true
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-conformance-tests.sh"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
        resources:
          requests:
            memory: 12Gi
          limits:
            memory: 16Gi
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-google-knative-gcp-go-coverage
    agent: kubernetes
    context: pull-google-knative-gcp-go-coverage
    always_run: true
    rerun_command: "/test pull-google-knative-gcp-go-coverage"
    trigger: "(?m)^/test (all|pull-google-knative-gcp-go-coverage),?(\\s+|$)"
    optional: true
    decorate: true
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "coverage"
        - "--postsubmit-job-name=post-google-knative-gcp-go-coverage"
        - "--artifacts=$(ARTIFACTS)"
        - "--cov-threshold-percentage=50"
        - "--github-token=/etc/covbot-token/token"
        volumeMounts:
        - name: covbot-token
          mountPath: /etc/covbot-token
          readOnly: true
      volumes:
      - name: covbot-token
        secret:
          secretName: covbot-token
  knative/networking:
  - name: pull-knative-networking-build-tests
    agent: kubernetes
    context: pull-knative-networking-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-networking-build-tests"
    trigger: "(?m)^/test (all|pull-knative-networking-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/networking
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-networking-unit-tests
    agent: kubernetes
    context: pull-knative-networking-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-networking-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-networking-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/networking
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-networking-integration-tests
    agent: kubernetes
    context: pull-knative-networking-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-networking-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-networking-integration-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/networking
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--integration-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  knative-sandbox/net-certmanager:
  - name: pull-knative-sandbox-net-certmanager-build-tests
    agent: kubernetes
    context: pull-knative-sandbox-net-certmanager-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-net-certmanager-build-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-net-certmanager-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/net-certmanager
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-net-certmanager-unit-tests
    agent: kubernetes
    context: pull-knative-sandbox-net-certmanager-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-net-certmanager-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-net-certmanager-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/net-certmanager
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-net-certmanager-integration-tests
    agent: kubernetes
    context: pull-knative-sandbox-net-certmanager-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-net-certmanager-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-net-certmanager-integration-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/net-certmanager
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--integration-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-net-certmanager-go-coverage
    agent: kubernetes
    context: pull-knative-sandbox-net-certmanager-go-coverage
    always_run: true
    rerun_command: "/test pull-knative-sandbox-net-certmanager-go-coverage"
    trigger: "(?m)^/test (all|pull-knative-sandbox-net-certmanager-go-coverage),?(\\s+|$)"
    optional: true
    decorate: true
    path_alias: knative.dev/net-certmanager
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "coverage"
        - "--postsubmit-job-name=post-knative-sandbox-net-certmanager-go-coverage"
        - "--artifacts=$(ARTIFACTS)"
        - "--cov-threshold-percentage=50"
        - "--github-token=/etc/covbot-token/token"
        volumeMounts:
        - name: covbot-token
          mountPath: /etc/covbot-token
          readOnly: true
      volumes:
      - name: covbot-token
        secret:
          secretName: covbot-token
  knative-sandbox/net-contour:
  - name: pull-knative-sandbox-net-contour-build-tests
    agent: kubernetes
    context: pull-knative-sandbox-net-contour-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-net-contour-build-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-net-contour-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/net-contour
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-net-contour-unit-tests
    agent: kubernetes
    context: pull-knative-sandbox-net-contour-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-net-contour-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-net-contour-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/net-contour
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-net-contour-integration-tests
    agent: kubernetes
    context: pull-knative-sandbox-net-contour-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-net-contour-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-net-contour-integration-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/net-contour
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--integration-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  knative-sandbox/net-http01:
  - name: pull-knative-sandbox-net-http01-build-tests
    agent: kubernetes
    context: pull-knative-sandbox-net-http01-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-net-http01-build-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-net-http01-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/net-http01
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-net-http01-unit-tests
    agent: kubernetes
    context: pull-knative-sandbox-net-http01-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-net-http01-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-net-http01-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/net-http01
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-net-http01-integration-tests
    agent: kubernetes
    context: pull-knative-sandbox-net-http01-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-net-http01-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-net-http01-integration-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/net-http01
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--integration-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  knative-sandbox/net-ingressv2:
  - name: pull-knative-sandbox-net-ingressv2-build-tests
    agent: kubernetes
    context: pull-knative-sandbox-net-ingressv2-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-net-ingressv2-build-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-net-ingressv2-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/net-ingressv2
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-net-ingressv2-unit-tests
    agent: kubernetes
    context: pull-knative-sandbox-net-ingressv2-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-net-ingressv2-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-net-ingressv2-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/net-ingressv2
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-net-ingressv2-integration-tests
    agent: kubernetes
    context: pull-knative-sandbox-net-ingressv2-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-net-ingressv2-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-net-ingressv2-integration-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/net-ingressv2
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--integration-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  knative-sandbox/net-istio:
  - name: pull-knative-sandbox-net-istio-build-tests
    agent: kubernetes
    context: pull-knative-sandbox-net-istio-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-net-istio-build-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-net-istio-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/net-istio
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-net-istio-unit-tests
    agent: kubernetes
    context: pull-knative-sandbox-net-istio-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-net-istio-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-net-istio-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/net-istio
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-net-istio-integration-tests
    agent: kubernetes
    context: pull-knative-sandbox-net-istio-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-net-istio-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-net-istio-integration-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/net-istio
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--integration-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-net-istio-go-coverage
    agent: kubernetes
    context: pull-knative-sandbox-net-istio-go-coverage
    always_run: true
    rerun_command: "/test pull-knative-sandbox-net-istio-go-coverage"
    trigger: "(?m)^/test (all|pull-knative-sandbox-net-istio-go-coverage),?(\\s+|$)"
    optional: true
    decorate: true
    path_alias: knative.dev/net-istio
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "coverage"
        - "--postsubmit-job-name=post-knative-sandbox-net-istio-go-coverage"
        - "--artifacts=$(ARTIFACTS)"
        - "--cov-threshold-percentage=50"
        - "--github-token=/etc/covbot-token/token"
        volumeMounts:
        - name: covbot-token
          mountPath: /etc/covbot-token
          readOnly: true
      volumes:
      - name: covbot-token
        secret:
          secretName: covbot-token
  - name: pull-knative-sandbox-net-istio-latest
    agent: kubernetes
    context: pull-knative-sandbox-net-istio-latest
    always_run: true
    optional: true
    rerun_command: "/test pull-knative-sandbox-net-istio-latest"
    trigger: "(?m)^/test (all|pull-knative-sandbox-net-istio-latest),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/net-istio
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-tests.sh --istio-version latest"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-net-istio-latest-mesh
    agent: kubernetes
    context: pull-knative-sandbox-net-istio-latest-mesh
    always_run: true
    optional: true
    rerun_command: "/test pull-knative-sandbox-net-istio-latest-mesh"
    trigger: "(?m)^/test (all|pull-knative-sandbox-net-istio-latest-mesh),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/net-istio
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-tests.sh --istio-version latest --mesh"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-net-istio-stable-mesh
    agent: kubernetes
    context: pull-knative-sandbox-net-istio-stable-mesh
    always_run: true
    optional: true
    rerun_command: "/test pull-knative-sandbox-net-istio-stable-mesh"
    trigger: "(?m)^/test (all|pull-knative-sandbox-net-istio-stable-mesh),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/net-istio
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-tests.sh --istio-version stable --mesh"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  knative-sandbox/net-kourier:
  - name: pull-knative-sandbox-net-kourier-build-tests
    agent: kubernetes
    context: pull-knative-sandbox-net-kourier-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-net-kourier-build-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-net-kourier-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/net-kourier
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-net-kourier-unit-tests
    agent: kubernetes
    context: pull-knative-sandbox-net-kourier-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-net-kourier-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-net-kourier-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/net-kourier
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-net-kourier-integration-tests
    agent: kubernetes
    context: pull-knative-sandbox-net-kourier-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-net-kourier-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-net-kourier-integration-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/net-kourier
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--integration-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-net-kourier-go-coverage
    agent: kubernetes
    context: pull-knative-sandbox-net-kourier-go-coverage
    always_run: true
    rerun_command: "/test pull-knative-sandbox-net-kourier-go-coverage"
    trigger: "(?m)^/test (all|pull-knative-sandbox-net-kourier-go-coverage),?(\\s+|$)"
    optional: true
    decorate: true
    path_alias: knative.dev/net-kourier
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "coverage"
        - "--postsubmit-job-name=post-knative-sandbox-net-kourier-go-coverage"
        - "--artifacts=$(ARTIFACTS)"
        - "--cov-threshold-percentage=50"
        - "--github-token=/etc/covbot-token/token"
        volumeMounts:
        - name: covbot-token
          mountPath: /etc/covbot-token
          readOnly: true
      volumes:
      - name: covbot-token
        secret:
          secretName: covbot-token
  knative/operator:
  - name: pull-knative-operator-build-tests
    agent: kubernetes
    context: pull-knative-operator-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-operator-build-tests"
    trigger: "(?m)^/test (all|pull-knative-operator-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/operator
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-operator-unit-tests
    agent: kubernetes
    context: pull-knative-operator-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-operator-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-operator-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/operator
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-operator-integration-tests
    agent: kubernetes
    context: pull-knative-operator-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-operator-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-operator-integration-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/operator
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--integration-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-operator-go-coverage
    agent: kubernetes
    context: pull-knative-operator-go-coverage
    always_run: true
    rerun_command: "/test pull-knative-operator-go-coverage"
    trigger: "(?m)^/test (all|pull-knative-operator-go-coverage),?(\\s+|$)"
    optional: true
    decorate: true
    path_alias: knative.dev/operator
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "coverage"
        - "--postsubmit-job-name=post-knative-operator-go-coverage"
        - "--artifacts=$(ARTIFACTS)"
        - "--cov-threshold-percentage=50"
        - "--github-token=/etc/covbot-token/token"
        volumeMounts:
        - name: covbot-token
          mountPath: /etc/covbot-token
          readOnly: true
      volumes:
      - name: covbot-token
        secret:
          secretName: covbot-token
  - name: pull-knative-operator-upgrade-tests
    agent: kubernetes
    context: pull-knative-operator-upgrade-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-operator-upgrade-tests"
    trigger: "(?m)^/test (all|pull-knative-operator-upgrade-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/operator
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-upgrade-tests.sh"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-operator-serving-upgrade-tests
    agent: kubernetes
    context: pull-knative-operator-serving-upgrade-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-operator-serving-upgrade-tests"
    trigger: "(?m)^/test (all|pull-knative-operator-serving-upgrade-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/operator
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-serving-upgrade-tests.sh"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-operator-eventing-upgrade-tests
    agent: kubernetes
    context: pull-knative-operator-eventing-upgrade-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-operator-eventing-upgrade-tests"
    trigger: "(?m)^/test (all|pull-knative-operator-eventing-upgrade-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/operator
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-eventing-upgrade-tests.sh"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  knative-sandbox/async-component:
  - name: pull-knative-sandbox-async-component-build-tests
    agent: kubernetes
    context: pull-knative-sandbox-async-component-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-async-component-build-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-async-component-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/async-component
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-async-component-unit-tests
    agent: kubernetes
    context: pull-knative-sandbox-async-component-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-async-component-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-async-component-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/async-component
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-async-component-integration-tests
    agent: kubernetes
    context: pull-knative-sandbox-async-component-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-async-component-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-async-component-integration-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/async-component
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--integration-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-async-component-go-coverage
    agent: kubernetes
    context: pull-knative-sandbox-async-component-go-coverage
    always_run: true
    rerun_command: "/test pull-knative-sandbox-async-component-go-coverage"
    trigger: "(?m)^/test (all|pull-knative-sandbox-async-component-go-coverage),?(\\s+|$)"
    optional: true
    decorate: true
    path_alias: knative.dev/async-component
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "coverage"
        - "--postsubmit-job-name=post-knative-sandbox-async-component-go-coverage"
        - "--artifacts=$(ARTIFACTS)"
        - "--cov-threshold-percentage=50"
        - "--github-token=/etc/covbot-token/token"
        volumeMounts:
        - name: covbot-token
          mountPath: /etc/covbot-token
          readOnly: true
      volumes:
      - name: covbot-token
        secret:
          secretName: covbot-token
  knative-sandbox/eventing-autoscaler-keda:
  - name: pull-knative-sandbox-eventing-autoscaler-keda-integration-test-kafka-source
    agent: kubernetes
    context: pull-knative-sandbox-eventing-autoscaler-keda-integration-test-kafka-source
    always_run: true
    optional: true
    rerun_command: "/test pull-knative-sandbox-eventing-autoscaler-keda-integration-test-kafka-source"
    trigger: "(?m)^/test (all|pull-knative-sandbox-eventing-autoscaler-keda-integration-test-kafka-source),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/eventing-autoscaler-keda
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-tests.sh --kafka-source"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-eventing-autoscaler-keda-integration-test-kafka-mt-source
    agent: kubernetes
    context: pull-knative-sandbox-eventing-autoscaler-keda-integration-test-kafka-mt-source
    always_run: true
    optional: true
    rerun_command: "/test pull-knative-sandbox-eventing-autoscaler-keda-integration-test-kafka-mt-source"
    trigger: "(?m)^/test (all|pull-knative-sandbox-eventing-autoscaler-keda-integration-test-kafka-mt-source),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/eventing-autoscaler-keda
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-tests.sh --kafka-mt-source"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  knative-sandbox/discovery:
  - name: pull-knative-sandbox-discovery-build-tests
    agent: kubernetes
    context: pull-knative-sandbox-discovery-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-discovery-build-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-discovery-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/discovery
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-discovery-unit-tests
    agent: kubernetes
    context: pull-knative-sandbox-discovery-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-discovery-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-discovery-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/discovery
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-discovery-integration-tests
    agent: kubernetes
    context: pull-knative-sandbox-discovery-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-discovery-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-discovery-integration-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/discovery
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--integration-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  knative-sandbox/eventing-kafka:
  - name: pull-knative-sandbox-eventing-kafka-integration-test-channel-consolidated
    agent: kubernetes
    context: pull-knative-sandbox-eventing-kafka-integration-test-channel-consolidated
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-eventing-kafka-integration-test-channel-consolidated"
    trigger: "(?m)^/test (all|pull-knative-sandbox-eventing-kafka-integration-test-channel-consolidated),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/eventing-kafka
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-tests.sh --consolidated"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-eventing-kafka-integration-test-channel-consolidated-tls
    agent: kubernetes
    context: pull-knative-sandbox-eventing-kafka-integration-test-channel-consolidated-tls
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-eventing-kafka-integration-test-channel-consolidated-tls"
    trigger: "(?m)^/test (all|pull-knative-sandbox-eventing-kafka-integration-test-channel-consolidated-tls),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/eventing-kafka
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-tests.sh --consolidated-tls"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-eventing-kafka-integration-test-channel-consolidated-sasl
    agent: kubernetes
    context: pull-knative-sandbox-eventing-kafka-integration-test-channel-consolidated-sasl
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-eventing-kafka-integration-test-channel-consolidated-sasl"
    trigger: "(?m)^/test (all|pull-knative-sandbox-eventing-kafka-integration-test-channel-consolidated-sasl),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/eventing-kafka
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-tests.sh --consolidated-sasl"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-eventing-kafka-integration-test-channel-distributed
    agent: kubernetes
    context: pull-knative-sandbox-eventing-kafka-integration-test-channel-distributed
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-eventing-kafka-integration-test-channel-distributed"
    trigger: "(?m)^/test (all|pull-knative-sandbox-eventing-kafka-integration-test-channel-distributed),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/eventing-kafka
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-tests.sh --distributed"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-eventing-kafka-integration-test-mt-source
    agent: kubernetes
    context: pull-knative-sandbox-eventing-kafka-integration-test-mt-source
    always_run: true
    optional: true
    rerun_command: "/test pull-knative-sandbox-eventing-kafka-integration-test-mt-source"
    trigger: "(?m)^/test (all|pull-knative-sandbox-eventing-kafka-integration-test-mt-source),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/eventing-kafka
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-tests.sh --mt-source"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-eventing-kafka-upgrade-tests
    agent: kubernetes
    context: pull-knative-sandbox-eventing-kafka-upgrade-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-eventing-kafka-upgrade-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-eventing-kafka-upgrade-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/eventing-kafka
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--run-test"
        - "./test/e2e-upgrade-tests.sh"
        volumeMounts:
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-eventing-kafka-build-tests
    agent: kubernetes
    context: pull-knative-sandbox-eventing-kafka-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-eventing-kafka-build-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-eventing-kafka-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/eventing-kafka
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        securityContext:
          privileged: true
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: docker-graph
          mountPath: /docker-graph
        - name: modules
          mountPath: /lib/modules
        - name: cgroup
          mountPath: /sys/fs/cgroup
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: DOCKER_IN_DOCKER_ENABLED
          value: "true"
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: docker-graph
        emptyDir: {}
      - name: modules
        hostPath:
          path: /lib/modules
          type: Directory
      - name: cgroup
        hostPath:
          path: /sys/fs/cgroup
          type: Directory
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-eventing-kafka-unit-tests
    agent: kubernetes
    context: pull-knative-sandbox-eventing-kafka-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-eventing-kafka-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-eventing-kafka-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/eventing-kafka
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        securityContext:
          privileged: true
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: docker-graph
          mountPath: /docker-graph
        - name: modules
          mountPath: /lib/modules
        - name: cgroup
          mountPath: /sys/fs/cgroup
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: DOCKER_IN_DOCKER_ENABLED
          value: "true"
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: docker-graph
        emptyDir: {}
      - name: modules
        hostPath:
          path: /lib/modules
          type: Directory
      - name: cgroup
        hostPath:
          path: /sys/fs/cgroup
          type: Directory
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-eventing-kafka-go-coverage
    agent: kubernetes
    context: pull-knative-sandbox-eventing-kafka-go-coverage
    always_run: true
    rerun_command: "/test pull-knative-sandbox-eventing-kafka-go-coverage"
    trigger: "(?m)^/test (all|pull-knative-sandbox-eventing-kafka-go-coverage),?(\\s+|$)"
    optional: true
    decorate: true
    path_alias: knative.dev/eventing-kafka
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "coverage"
        - "--postsubmit-job-name=post-knative-sandbox-eventing-kafka-go-coverage"
        - "--artifacts=$(ARTIFACTS)"
        - "--cov-threshold-percentage=50"
        - "--github-token=/etc/covbot-token/token"
        volumeMounts:
        - name: covbot-token
          mountPath: /etc/covbot-token
          readOnly: true
        - name: docker-graph
          mountPath: /docker-graph
        - name: modules
          mountPath: /lib/modules
        - name: cgroup
          mountPath: /sys/fs/cgroup
        env:
        - name: DOCKER_IN_DOCKER_ENABLED
          value: "true"
      volumes:
      - name: covbot-token
        secret:
          secretName: covbot-token
      - name: docker-graph
        emptyDir: {}
      - name: modules
        hostPath:
          path: /lib/modules
          type: Directory
      - name: cgroup
        hostPath:
          path: /sys/fs/cgroup
          type: Directory
  knative-sandbox/eventing-kafka-broker:
  - name: pull-knative-sandbox-eventing-kafka-broker-build-tests
    agent: kubernetes
    context: pull-knative-sandbox-eventing-kafka-broker-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-eventing-kafka-broker-build-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-eventing-kafka-broker-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/eventing-kafka-broker
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        securityContext:
          privileged: true
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: docker-graph
          mountPath: /docker-graph
        - name: modules
          mountPath: /lib/modules
        - name: cgroup
          mountPath: /sys/fs/cgroup
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: DOCKER_IN_DOCKER_ENABLED
          value: "true"
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: docker-graph
        emptyDir: {}
      - name: modules
        hostPath:
          path: /lib/modules
          type: Directory
      - name: cgroup
        hostPath:
          path: /sys/fs/cgroup
          type: Directory
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-eventing-kafka-broker-unit-tests
    agent: kubernetes
    context: pull-knative-sandbox-eventing-kafka-broker-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-eventing-kafka-broker-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-eventing-kafka-broker-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/eventing-kafka-broker
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        securityContext:
          privileged: true
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: docker-graph
          mountPath: /docker-graph
        - name: modules
          mountPath: /lib/modules
        - name: cgroup
          mountPath: /sys/fs/cgroup
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: DOCKER_IN_DOCKER_ENABLED
          value: "true"
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: docker-graph
        emptyDir: {}
      - name: modules
        hostPath:
          path: /lib/modules
          type: Directory
      - name: cgroup
        hostPath:
          path: /sys/fs/cgroup
          type: Directory
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-eventing-kafka-broker-integration-tests
    agent: kubernetes
    context: pull-knative-sandbox-eventing-kafka-broker-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-eventing-kafka-broker-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-eventing-kafka-broker-integration-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/eventing-kafka-broker
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--integration-tests"
        securityContext:
          privileged: true
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: docker-graph
          mountPath: /docker-graph
        - name: modules
          mountPath: /lib/modules
        - name: cgroup
          mountPath: /sys/fs/cgroup
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: DOCKER_IN_DOCKER_ENABLED
          value: "true"
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: docker-graph
        emptyDir: {}
      - name: modules
        hostPath:
          path: /lib/modules
          type: Directory
      - name: cgroup
        hostPath:
          path: /sys/fs/cgroup
          type: Directory
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-eventing-kafka-broker-go-coverage
    agent: kubernetes
    context: pull-knative-sandbox-eventing-kafka-broker-go-coverage
    always_run: true
    rerun_command: "/test pull-knative-sandbox-eventing-kafka-broker-go-coverage"
    trigger: "(?m)^/test (all|pull-knative-sandbox-eventing-kafka-broker-go-coverage),?(\\s+|$)"
    optional: true
    decorate: true
    path_alias: knative.dev/eventing-kafka-broker
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "coverage"
        - "--postsubmit-job-name=post-knative-sandbox-eventing-kafka-broker-go-coverage"
        - "--artifacts=$(ARTIFACTS)"
        - "--cov-threshold-percentage=50"
        - "--github-token=/etc/covbot-token/token"
        volumeMounts:
        - name: covbot-token
          mountPath: /etc/covbot-token
          readOnly: true
        - name: docker-graph
          mountPath: /docker-graph
        - name: modules
          mountPath: /lib/modules
        - name: cgroup
          mountPath: /sys/fs/cgroup
        env:
        - name: DOCKER_IN_DOCKER_ENABLED
          value: "true"
      volumes:
      - name: covbot-token
        secret:
          secretName: covbot-token
      - name: docker-graph
        emptyDir: {}
      - name: modules
        hostPath:
          path: /lib/modules
          type: Directory
      - name: cgroup
        hostPath:
          path: /sys/fs/cgroup
          type: Directory
  knative-sandbox/kperf:
  - name: pull-knative-sandbox-kperf-build-tests
    agent: kubernetes
    context: pull-knative-sandbox-kperf-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kperf-build-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kperf-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kperf
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-kperf-unit-tests
    agent: kubernetes
    context: pull-knative-sandbox-kperf-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kperf-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kperf-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kperf
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-kperf-integration-tests
    agent: kubernetes
    context: pull-knative-sandbox-kperf-integration-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-kperf-integration-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-kperf-integration-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/kperf
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--integration-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  knative-sandbox/eventing-kogito:
  - name: pull-knative-sandbox-eventing-kogito-build-tests
    agent: kubernetes
    context: pull-knative-sandbox-eventing-kogito-build-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-eventing-kogito-build-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-eventing-kogito-build-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/eventing-kogito
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--build-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
  - name: pull-knative-sandbox-eventing-kogito-unit-tests
    agent: kubernetes
    context: pull-knative-sandbox-eventing-kogito-unit-tests
    always_run: true
    optional: false
    rerun_command: "/test pull-knative-sandbox-eventing-kogito-unit-tests"
    trigger: "(?m)^/test (all|pull-knative-sandbox-eventing-kogito-unit-tests),?(\\s+|$)"
    decorate: true
    path_alias: knative.dev/eventing-kogito
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/presubmit-tests.sh"
        - "--unit-tests"
        volumeMounts:
        - name: repoview-token
          mountPath: /etc/repoview-token
          readOnly: true
        - name: test-account
          mountPath: /etc/test-account
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/test-account/service-account.json
        - name: E2E_CLUSTER_REGION
          value: us-central1
      volumes:
      - name: repoview-token
        secret:
          secretName: repoview-token
      - name: test-account
        secret:
          secretName: test-account
periodics:
- cron: "0 */4 * * *"
  name: ci-knative-serving-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: main
  annotations:
    testgrid-dashboards: serving
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "4 8,11,22 * * *"
  name: ci-knative-serving-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-serving-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "21 8 * * *"
  name: ci-knative-serving-0.22-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: release-0.22
  annotations:
    testgrid-dashboards: knative-0.22
    testgrid-tab-name: serving-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.22
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "37 8,11 * * *"
  name: ci-knative-serving-0.22-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: release-0.22
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-serving-0.22-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.22
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "12 8 * * *"
  name: ci-knative-serving-0.23-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: release-0.23
  annotations:
    testgrid-dashboards: knative-0.23
    testgrid-tab-name: serving-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.23
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "56 8,11 * * *"
  name: ci-knative-serving-0.23-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: release-0.23
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-serving-0.23-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.23
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "15 8 * * *"
  name: ci-knative-serving-0.24-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: release-0.24
  annotations:
    testgrid-dashboards: knative-0.24
    testgrid-tab-name: serving-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.24
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "35 8,11 * * *"
  name: ci-knative-serving-0.24-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: release-0.24
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-serving-0.24-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.24
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "34 8 * * *"
  name: ci-knative-serving-0.25-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: release-0.25
  annotations:
    testgrid-dashboards: knative-0.25
    testgrid-tab-name: serving-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.25
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "22 8,11 * * *"
  name: ci-knative-serving-0.25-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: release-0.25
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-serving-0.25-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.25
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "5 */3 * * *"
  name: ci-knative-serving-istio-latest-mesh
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 120m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: main
  annotations:
    testgrid-dashboards: serving
    testgrid-tab-name: istio-latest-mesh
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--run-test"
      - "./test/e2e-tests.sh --istio-version latest --mesh"
      - "--run-test"
      - "./test/e2e-auto-tls-tests.sh --istio-version latest --mesh"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "31 */3 * * *"
  name: ci-knative-serving-istio-latest-no-mesh
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 120m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: main
  annotations:
    testgrid-dashboards: serving
    testgrid-tab-name: istio-latest-no-mesh
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--run-test"
      - "./test/e2e-tests.sh --istio-version latest --no-mesh"
      - "--run-test"
      - "./test/e2e-auto-tls-tests.sh --istio-version latest --no-mesh --run-http01-auto-tls-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "26 */3 * * *"
  name: ci-knative-serving-istio-head-mesh
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 120m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: main
  annotations:
    testgrid-dashboards: serving
    testgrid-tab-name: istio-head-mesh
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--run-test"
      - "./test/e2e-tests.sh --istio-version head --mesh"
      - "--run-test"
      - "./test/e2e-auto-tls-tests.sh --istio-version head --mesh"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "42 */3 * * *"
  name: ci-knative-serving-istio-head-no-mesh
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 120m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: main
  annotations:
    testgrid-dashboards: serving
    testgrid-tab-name: istio-head-no-mesh
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--run-test"
      - "./test/e2e-tests.sh --istio-version head --no-mesh"
      - "--run-test"
      - "./test/e2e-auto-tls-tests.sh --istio-version head --no-mesh"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "57 */3 * * *"
  name: ci-knative-serving-istio-stable-mesh
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 120m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: main
  annotations:
    testgrid-dashboards: serving
    testgrid-tab-name: istio-stable-mesh
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--run-test"
      - "./test/e2e-tests.sh --istio-version stable --mesh"
      - "--run-test"
      - "./test/e2e-auto-tls-tests.sh --istio-version stable --mesh"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "47 */3 * * *"
  name: ci-knative-serving-istio-stable-no-mesh
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 120m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: main
  annotations:
    testgrid-dashboards: serving
    testgrid-tab-name: istio-stable-no-mesh
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--run-test"
      - "./test/e2e-tests.sh --istio-version stable --no-mesh"
      - "--run-test"
      - "./test/e2e-auto-tls-tests.sh --istio-version stable --no-mesh --run-http01-auto-tls-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "24 */3 * * *"
  name: ci-knative-serving-kourier-stable
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 120m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: main
  annotations:
    testgrid-dashboards: serving
    testgrid-tab-name: kourier-stable
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--run-test"
      - "./test/e2e-tests.sh --kourier-version stable"
      - "--run-test"
      - "./test/e2e-auto-tls-tests.sh --kourier-version stable --run-http01-auto-tls-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "43 */3 * * *"
  name: ci-knative-serving-contour-latest
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 120m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: main
  annotations:
    testgrid-dashboards: serving
    testgrid-tab-name: contour-latest
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--run-test"
      - "./test/e2e-tests.sh --contour-version latest"
      - "--run-test"
      - "./test/e2e-auto-tls-tests.sh --contour-version latest --run-http01-auto-tls-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "44 */3 * * *"
  name: ci-knative-serving-ambassador-latest
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 120m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: main
  annotations:
    testgrid-dashboards: serving
    testgrid-tab-name: ambassador-latest
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--run-test"
      - "./test/e2e-tests.sh --ambassador-version latest"
      - "--run-test"
      - "./test/e2e-auto-tls-tests.sh --ambassador-version latest"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "20 */3 * * *"
  name: ci-knative-serving-kong-latest
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 120m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: main
  annotations:
    testgrid-dashboards: serving
    testgrid-tab-name: kong-latest
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--run-test"
      - "./test/e2e-tests.sh --kong-version latest"
      - "--run-test"
      - "./test/e2e-auto-tls-tests.sh --kong-version latest"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "42 */3 * * *"
  name: ci-knative-serving-https
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 120m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: main
  annotations:
    testgrid-dashboards: serving
    testgrid-tab-name: https
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--run-test"
      - "./test/e2e-tests.sh --https"
      - "--run-test"
      - "./test/e2e-auto-tls-tests.sh --https"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "0 3 * * *"
  name: ci-knative-serving-s390x-kourier-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 120m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: main
  annotations:
    testgrid-dashboards: serving
    testgrid-tab-name: s390x-kourier-tests
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "bash"
      - "-c"
      - "mkdir -p /root/.kube && server_addr=$(cat /opt/cluster/config) && ssh -o StrictHostKeyChecking=no -i /opt/cluster/knative01.pem linux1@${server_addr} cat /home/linux1/.kube/config > /root/.kube/config && kubectl get cm s390x-config-serving -n default -o jsonpath='{.data.adjustment-script}' > adjust.sh && chmod +x adjust.sh && ./adjust.sh && export TEST_OPTIONS=$TEST_OPTIONS' --ingressendpoint '${server_addr} && ./test/e2e-tests.sh --run-tests --kourier-version latest"
      volumeMounts:
      - name: s390x-cluster1
        mountPath: /opt/cluster
        readOnly: true
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GO111MODULE
        value: "on"
      - name: TEST_OPTIONS
        value: "--enable-alpha --enable-beta --resolvabledomain=false"
      - name: DISABLE_MD_LINTING
        value: "1"
      - name: KO_FLAGS
        value: "--platform=linux/s390x"
      - name: SYSTEM_NAMESPACE
        value: "knative-serving"
      - name: PLATFORM
        value: "linux/s390x"
      - name: KUBECONFIG
        value: "/root/.kube/config"
      - name: DOCKER_CONFIG
        value: "/opt/cluster"
      - name: KO_DOCKER_REPO
        valueFrom:
          secretKeyRef:
            name: s390x-cluster1
            key: ko-docker-repo
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: s390x-cluster1
      secret:
        secretName: s390x-cluster1
        defaultMode: 0600
    - name: test-account
      secret:
        secretName: test-account
- cron: "0 15 * * *"
  name: ci-knative-serving-0.23-s390x-kourier-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 120m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: release-0.23
  annotations:
    testgrid-dashboards: knative-0.23
    testgrid-tab-name: serving-s390x-kourier-tests
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "bash"
      - "-c"
      - "mkdir -p /root/.kube && server_addr=$(cat /opt/cluster/config) && ssh -o StrictHostKeyChecking=no -i /opt/cluster/knative01.pem linux1@${server_addr} cat /home/linux1/.kube/config > /root/.kube/config && kubectl get cm s390x-config-serving -n default -o jsonpath='{.data.adjustment-script}' > adjust.sh && chmod +x adjust.sh && ./adjust.sh && export TEST_OPTIONS=$TEST_OPTIONS' --ingressendpoint '${server_addr} && ./test/e2e-tests.sh --run-tests --kourier-version latest"
      volumeMounts:
      - name: s390x-cluster1
        mountPath: /opt/cluster
        readOnly: true
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GO111MODULE
        value: "on"
      - name: TEST_OPTIONS
        value: "--enable-alpha --enable-beta --resolvabledomain=false"
      - name: DISABLE_MD_LINTING
        value: "1"
      - name: KO_FLAGS
        value: "--platform=linux/s390x"
      - name: SYSTEM_NAMESPACE
        value: "knative-serving"
      - name: PLATFORM
        value: "linux/s390x"
      - name: KUBECONFIG
        value: "/root/.kube/config"
      - name: DOCKER_CONFIG
        value: "/opt/cluster"
      - name: KO_DOCKER_REPO
        valueFrom:
          secretKeyRef:
            name: s390x-cluster1
            key: ko-docker-repo
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.23
    volumes:
    - name: s390x-cluster1
      secret:
        secretName: s390x-cluster1
        defaultMode: 0600
    - name: test-account
      secret:
        secretName: test-account
- cron: "0 5 * * *"
  name: ci-knative-serving-s390x-contour-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 120m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: main
  annotations:
    testgrid-dashboards: serving
    testgrid-tab-name: s390x-contour-tests
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "bash"
      - "-c"
      - "mkdir -p /root/.kube && server_addr=$(cat /opt/cluster/config) && ssh -o StrictHostKeyChecking=no -i /opt/cluster/knative01.pem linux1@${server_addr} cat /home/linux1/.kube/config > /root/.kube/config && kubectl get cm s390x-config-serving -n default -o jsonpath='{.data.adjustment-script}' > adjust.sh && chmod +x adjust.sh && ./adjust.sh && export TEST_OPTIONS=$TEST_OPTIONS' --ingressendpoint '${server_addr} && ./test/e2e-tests.sh --run-tests --contour-version latest"
      volumeMounts:
      - name: s390x-cluster1
        mountPath: /opt/cluster
        readOnly: true
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GO111MODULE
        value: "on"
      - name: TEST_OPTIONS
        value: "--enable-alpha --enable-beta --resolvabledomain=false"
      - name: DISABLE_MD_LINTING
        value: "1"
      - name: KO_FLAGS
        value: "--platform=linux/s390x"
      - name: SYSTEM_NAMESPACE
        value: "knative-serving"
      - name: PLATFORM
        value: "linux/s390x"
      - name: KUBECONFIG
        value: "/root/.kube/config"
      - name: DOCKER_CONFIG
        value: "/opt/cluster"
      - name: KO_DOCKER_REPO
        valueFrom:
          secretKeyRef:
            name: s390x-cluster1
            key: ko-docker-repo
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: s390x-cluster1
      secret:
        secretName: s390x-cluster1
        defaultMode: 0600
    - name: test-account
      secret:
        secretName: test-account
- cron: "0 17 * * *"
  name: ci-knative-serving-0.23-s390x-contour-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 120m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: release-0.23
  annotations:
    testgrid-dashboards: knative-0.23
    testgrid-tab-name: serving-s390x-contour-tests
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "bash"
      - "-c"
      - "mkdir -p /root/.kube && server_addr=$(cat /opt/cluster/config) && ssh -o StrictHostKeyChecking=no -i /opt/cluster/knative01.pem linux1@${server_addr} cat /home/linux1/.kube/config > /root/.kube/config && kubectl get cm s390x-config-serving -n default -o jsonpath='{.data.adjustment-script}' > adjust.sh && chmod +x adjust.sh && ./adjust.sh && export TEST_OPTIONS=$TEST_OPTIONS' --ingressendpoint '${server_addr} && ./test/e2e-tests.sh --run-tests --contour-version latest"
      volumeMounts:
      - name: s390x-cluster1
        mountPath: /opt/cluster
        readOnly: true
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GO111MODULE
        value: "on"
      - name: TEST_OPTIONS
        value: "--enable-alpha --enable-beta --resolvabledomain=false"
      - name: DISABLE_MD_LINTING
        value: "1"
      - name: KO_FLAGS
        value: "--platform=linux/s390x"
      - name: SYSTEM_NAMESPACE
        value: "knative-serving"
      - name: PLATFORM
        value: "linux/s390x"
      - name: KUBECONFIG
        value: "/root/.kube/config"
      - name: DOCKER_CONFIG
        value: "/opt/cluster"
      - name: KO_DOCKER_REPO
        valueFrom:
          secretKeyRef:
            name: s390x-cluster1
            key: ko-docker-repo
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.23
    volumes:
    - name: s390x-cluster1
      secret:
        secretName: s390x-cluster1
        defaultMode: 0600
    - name: test-account
      secret:
        secretName: test-account
- cron: "20 9 * * *"
  name: ci-knative-serving-nightly-release
  agent: kubernetes
  decorate: true
  reporter_config:
    slack:
      channel: serving-api
      report_template: "The nightly release job fails, check the log: <{{.Status.URL}}|View logs>"
      job_states_to_report:
      - "failure"
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: main
  annotations:
    testgrid-dashboards: serving
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "5 9 * * 2"
  name: ci-knative-serving-0.22-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: release-0.22
  annotations:
    testgrid-dashboards: knative-0.22
    testgrid-tab-name: serving-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/serving"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.22"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.22
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "50 9 * * 2"
  name: ci-knative-serving-0.23-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: release-0.23
  annotations:
    testgrid-dashboards: knative-0.23
    testgrid-tab-name: serving-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/serving"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.23"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.23
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "31 9 * * 2"
  name: ci-knative-serving-0.24-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: release-0.24
  annotations:
    testgrid-dashboards: knative-0.24
    testgrid-tab-name: serving-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/serving"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.24"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.24
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "52 9 * * 2"
  name: ci-knative-serving-0.25-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: release-0.25
  annotations:
    testgrid-dashboards: knative-0.25
    testgrid-tab-name: serving-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/serving"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.25"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.25
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "20 */4 * * *"
  name: ci-knative-serving-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: main
  annotations:
    testgrid-dashboards: serving
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/serving"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "53 */4 * * *"
  name: ci-knative-client-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: client
    path_alias: knative.dev/client
    base_ref: main
  annotations:
    testgrid-dashboards: client
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "13 8,11,22 * * *"
  name: ci-knative-client-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: client
    path_alias: knative.dev/client
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-client-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "6 8 * * *"
  name: ci-knative-client-0.22-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: client
    path_alias: knative.dev/client
    base_ref: release-0.22
  annotations:
    testgrid-dashboards: knative-0.22
    testgrid-tab-name: client-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.22
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "50 8,11 * * *"
  name: ci-knative-client-0.22-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: client
    path_alias: knative.dev/client
    base_ref: release-0.22
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-client-0.22-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.22
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "59 8 * * *"
  name: ci-knative-client-0.23-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: client
    path_alias: knative.dev/client
    base_ref: release-0.23
  annotations:
    testgrid-dashboards: knative-0.23
    testgrid-tab-name: client-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.23
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "3 8,11 * * *"
  name: ci-knative-client-0.23-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: client
    path_alias: knative.dev/client
    base_ref: release-0.23
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-client-0.23-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.23
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "0 8 * * *"
  name: ci-knative-client-0.24-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: client
    path_alias: knative.dev/client
    base_ref: release-0.24
  annotations:
    testgrid-dashboards: knative-0.24
    testgrid-tab-name: client-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.24
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "52 8,11 * * *"
  name: ci-knative-client-0.24-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: client
    path_alias: knative.dev/client
    base_ref: release-0.24
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-client-0.24-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.24
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "13 8 * * *"
  name: ci-knative-client-0.25-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: client
    path_alias: knative.dev/client
    base_ref: release-0.25
  annotations:
    testgrid-dashboards: knative-0.25
    testgrid-tab-name: client-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.25
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "25 8,11 * * *"
  name: ci-knative-client-0.25-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: client
    path_alias: knative.dev/client
    base_ref: release-0.25
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-client-0.25-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.25
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "59 9 * * *"
  name: ci-knative-client-nightly-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: client
    path_alias: knative.dev/client
    base_ref: main
  annotations:
    testgrid-dashboards: client
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "0 13 * * *"
  name: ci-knative-client-tekton
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 120m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: client
    path_alias: knative.dev/client
    base_ref: main
  annotations:
    testgrid-dashboards: client
    testgrid-tab-name: tekton
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/tekton-tests.sh"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "28 9 * * 2"
  name: ci-knative-client-0.22-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: client
    path_alias: knative.dev/client
    base_ref: release-0.22
  annotations:
    testgrid-dashboards: knative-0.22
    testgrid-tab-name: client-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/client"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.22"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.22
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "19 9 * * 2"
  name: ci-knative-client-0.23-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: client
    path_alias: knative.dev/client
    base_ref: release-0.23
  annotations:
    testgrid-dashboards: knative-0.23
    testgrid-tab-name: client-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/client"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.23"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.23
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "42 9 * * 2"
  name: ci-knative-client-0.24-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: client
    path_alias: knative.dev/client
    base_ref: release-0.24
  annotations:
    testgrid-dashboards: knative-0.24
    testgrid-tab-name: client-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/client"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.24"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.24
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "45 9 * * 2"
  name: ci-knative-client-0.25-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: client
    path_alias: knative.dev/client
    base_ref: release-0.25
  annotations:
    testgrid-dashboards: knative-0.25
    testgrid-tab-name: client-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/client"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.25"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.25
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "29 */4 * * *"
  name: ci-knative-client-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: client
    path_alias: knative.dev/client
    base_ref: main
  annotations:
    testgrid-dashboards: client
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/client"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "0 11 * * *"
  name: ci-knative-client-s390x-e2e-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 120m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: client
    path_alias: knative.dev/client
    base_ref: main
  annotations:
    testgrid-dashboards: client
    testgrid-tab-name: s390x-e2e-tests
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "bash"
      - "-c"
      - "mkdir -p /root/.kube && server_addr=$(cat /opt/cluster/config) && ssh -o StrictHostKeyChecking=no -i /opt/cluster/knative01.pem linux1@${server_addr} cat /home/linux1/.kube/config > /root/.kube/config && kubectl get cm s390x-config-client -n default -o jsonpath='{.data.adjustment-script}' > adjust.sh && chmod +x adjust.sh && ./adjust.sh && ./test/e2e-tests.sh --run-tests"
      volumeMounts:
      - name: s390x-cluster1
        mountPath: /opt/cluster
        readOnly: true
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DISABLE_MD_LINTING
        value: "1"
      - name: KO_FLAGS
        value: "--platform=linux/s390x"
      - name: PLATFORM
        value: "linux/s390x"
      - name: KUBECONFIG
        value: "/root/.kube/config"
      - name: DOCKER_CONFIG
        value: "/opt/cluster"
      - name: INGRESS_CLASS
        value: "contour.ingress.networking.knative.dev"
      - name: KO_DOCKER_REPO
        valueFrom:
          secretKeyRef:
            name: s390x-cluster1
            key: ko-docker-repo
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: s390x-cluster1
      secret:
        secretName: s390x-cluster1
        defaultMode: 0600
    - name: test-account
      secret:
        secretName: test-account
- cron: "0 23 * * *"
  name: ci-knative-client-0.23-s390x-e2e-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 120m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: client
    path_alias: knative.dev/client
    base_ref: release-0.23
  annotations:
    testgrid-dashboards: knative-0.23
    testgrid-tab-name: client-s390x-e2e-tests
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "bash"
      - "-c"
      - "mkdir -p /root/.kube && server_addr=$(cat /opt/cluster/config) && ssh -o StrictHostKeyChecking=no -i /opt/cluster/knative01.pem linux1@${server_addr} cat /home/linux1/.kube/config > /root/.kube/config && kubectl get cm s390x-config-client -n default -o jsonpath='{.data.adjustment-script}' > adjust.sh && chmod +x adjust.sh && ./adjust.sh && ./test/e2e-tests.sh --run-tests"
      volumeMounts:
      - name: s390x-cluster1
        mountPath: /opt/cluster
        readOnly: true
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DISABLE_MD_LINTING
        value: "1"
      - name: KO_FLAGS
        value: "--platform=linux/s390x"
      - name: PLATFORM
        value: "linux/s390x"
      - name: KUBECONFIG
        value: "/root/.kube/config"
      - name: DOCKER_CONFIG
        value: "/opt/cluster"
      - name: INGRESS_CLASS
        value: "contour.ingress.networking.knative.dev"
      - name: KO_DOCKER_REPO
        valueFrom:
          secretKeyRef:
            name: s390x-cluster1
            key: ko-docker-repo
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.23
    volumes:
    - name: s390x-cluster1
      secret:
        secretName: s390x-cluster1
        defaultMode: 0600
    - name: test-account
      secret:
        secretName: test-account
- cron: "0 1 * * *"
  name: ci-knative-client-go-coverage
  labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: ci-knative-client-go-coverage
  agent: kubernetes
  decorate: true
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: client
    path_alias: knative.dev/client
    base_ref: main
  annotations:
    testgrid-dashboards: client
    testgrid-tab-name: client-go-coverage
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - "runner.sh"
      args:
      - "coverage"
      - "--artifacts=$(ARTIFACTS)"
      - "--cov-threshold-percentage=50"
- cron: "35 7 * * *"
  name: ci-knative-client-go-coverage-beta-prow-tests
  labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: ci-knative-client-go-coverage
  agent: kubernetes
  decorate: true
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: client
    path_alias: knative.dev/client
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-client-go-coverage
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - "runner.sh"
      args:
      - "coverage"
      - "--artifacts=$(ARTIFACTS)"
      - "--cov-threshold-percentage=50"
- cron: "1 */4 * * *"
  name: ci-knative-sandbox-kn-plugin-diag-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-diag
    path_alias: knative.dev/kn-plugin-diag
    base_ref: main
  annotations:
    testgrid-dashboards: kn-plugin-diag
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "37 8,11,22 * * *"
  name: ci-knative-sandbox-kn-plugin-diag-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-diag
    path_alias: knative.dev/kn-plugin-diag
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-kn-plugin-diag-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "20 */4 * * *"
  name: ci-knative-sandbox-kn-plugin-event-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-event
    path_alias: knative.dev/kn-plugin-event
    base_ref: main
  annotations:
    testgrid-dashboards: kn-plugin-event
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "36 8,11,22 * * *"
  name: ci-knative-sandbox-kn-plugin-event-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-event
    path_alias: knative.dev/kn-plugin-event
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-kn-plugin-event-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "28 */4 * * *"
  name: ci-knative-sandbox-kn-plugin-migration-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-migration
    path_alias: knative.dev/kn-plugin-migration
    base_ref: main
  annotations:
    testgrid-dashboards: kn-plugin-migration
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "0 8,11,22 * * *"
  name: ci-knative-sandbox-kn-plugin-migration-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-migration
    path_alias: knative.dev/kn-plugin-migration
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-kn-plugin-migration-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "38 */4 * * *"
  name: ci-knative-sandbox-kn-plugin-sample-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-sample
    path_alias: knative.dev/kn-plugin-sample
    base_ref: main
  annotations:
    testgrid-dashboards: kn-plugin-sample
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "18 8,11,22 * * *"
  name: ci-knative-sandbox-kn-plugin-sample-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-sample
    path_alias: knative.dev/kn-plugin-sample
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-kn-plugin-sample-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "16 */4 * * *"
  name: ci-knative-sandbox-kn-plugin-service-log-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-service-log
    path_alias: knative.dev/kn-plugin-service-log
    base_ref: main
  annotations:
    testgrid-dashboards: kn-plugin-service-log
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "8 8,11,22 * * *"
  name: ci-knative-sandbox-kn-plugin-service-log-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-service-log
    path_alias: knative.dev/kn-plugin-service-log
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-kn-plugin-service-log-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "14 */4 * * *"
  name: ci-knative-sandbox-kn-plugin-source-kafka-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-source-kafka
    path_alias: knative.dev/kn-plugin-source-kafka
    base_ref: main
  annotations:
    testgrid-dashboards: kn-plugin-source-kafka
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "58 8,11,22 * * *"
  name: ci-knative-sandbox-kn-plugin-source-kafka-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-source-kafka
    path_alias: knative.dev/kn-plugin-source-kafka
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-kn-plugin-source-kafka-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "34 */4 * * *"
  name: ci-knative-sandbox-kn-plugin-source-kafka-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-source-kafka
    path_alias: knative.dev/kn-plugin-source-kafka
    base_ref: main
  annotations:
    testgrid-dashboards: kn-plugin-source-kafka
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/kn-plugin-source-kafka"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "54 9 * * *"
  name: ci-knative-sandbox-kn-plugin-source-kafka-nightly-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-source-kafka
    path_alias: knative.dev/kn-plugin-source-kafka
    base_ref: main
  annotations:
    testgrid-dashboards: kn-plugin-source-kafka
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "43 9 * * 2"
  name: ci-knative-sandbox-kn-plugin-source-kafka-0.22-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-source-kafka
    path_alias: knative.dev/kn-plugin-source-kafka
    base_ref: release-0.22
  annotations:
    testgrid-dashboards: knative-sandbox-0.22
    testgrid-tab-name: kn-plugin-source-kafka-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/kn-plugin-source-kafka"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.22"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.22
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "8 9 * * 2"
  name: ci-knative-sandbox-kn-plugin-source-kafka-0.23-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-source-kafka
    path_alias: knative.dev/kn-plugin-source-kafka
    base_ref: release-0.23
  annotations:
    testgrid-dashboards: knative-sandbox-0.23
    testgrid-tab-name: kn-plugin-source-kafka-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/kn-plugin-source-kafka"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.23"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.23
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "33 9 * * 2"
  name: ci-knative-sandbox-kn-plugin-source-kafka-0.24-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-source-kafka
    path_alias: knative.dev/kn-plugin-source-kafka
    base_ref: release-0.24
  annotations:
    testgrid-dashboards: knative-sandbox-0.24
    testgrid-tab-name: kn-plugin-source-kafka-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/kn-plugin-source-kafka"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.24"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.24
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "14 9 * * 2"
  name: ci-knative-sandbox-kn-plugin-source-kafka-0.25-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-source-kafka
    path_alias: knative.dev/kn-plugin-source-kafka
    base_ref: release-0.25
  annotations:
    testgrid-dashboards: knative-sandbox-0.25
    testgrid-tab-name: kn-plugin-source-kafka-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/kn-plugin-source-kafka"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.25"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.25
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "25 */4 * * *"
  name: ci-knative-sandbox-kn-plugin-source-kamelet-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-source-kamelet
    path_alias: knative.dev/kn-plugin-source-kamelet
    base_ref: main
  annotations:
    testgrid-dashboards: kn-plugin-source-kamelet
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "1 8,11,22 * * *"
  name: ci-knative-sandbox-kn-plugin-source-kamelet-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-source-kamelet
    path_alias: knative.dev/kn-plugin-source-kamelet
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-kn-plugin-source-kamelet-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "33 */4 * * *"
  name: ci-knative-sandbox-kn-plugin-admin-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-admin
    path_alias: knative.dev/kn-plugin-admin
    base_ref: main
  annotations:
    testgrid-dashboards: kn-plugin-admin
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "25 8,11,22 * * *"
  name: ci-knative-sandbox-kn-plugin-admin-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-admin
    path_alias: knative.dev/kn-plugin-admin
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-kn-plugin-admin-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "53 */4 * * *"
  name: ci-knative-sandbox-kn-plugin-admin-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-admin
    path_alias: knative.dev/kn-plugin-admin
    base_ref: main
  annotations:
    testgrid-dashboards: kn-plugin-admin
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/kn-plugin-admin"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "11 9 * * *"
  name: ci-knative-sandbox-kn-plugin-admin-nightly-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-admin
    path_alias: knative.dev/kn-plugin-admin
    base_ref: main
  annotations:
    testgrid-dashboards: kn-plugin-admin
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "59 9 * * 2"
  name: ci-knative-sandbox-kn-plugin-admin-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-admin
    path_alias: knative.dev/kn-plugin-admin
    base_ref: main
  annotations:
    testgrid-dashboards: kn-plugin-admin
    testgrid-tab-name: dot-release
    testgrid-alert-stale-results-hours: "170"
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/kn-plugin-admin"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "19 */4 * * *"
  name: ci-knative-sandbox-kn-plugin-quickstart-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-quickstart
    path_alias: knative.dev/kn-plugin-quickstart
    base_ref: main
  annotations:
    testgrid-dashboards: kn-plugin-quickstart
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "19 8,11,22 * * *"
  name: ci-knative-sandbox-kn-plugin-quickstart-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-quickstart
    path_alias: knative.dev/kn-plugin-quickstart
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-kn-plugin-quickstart-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "35 */4 * * *"
  name: ci-knative-sandbox-kn-plugin-quickstart-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-quickstart
    path_alias: knative.dev/kn-plugin-quickstart
    base_ref: main
  annotations:
    testgrid-dashboards: kn-plugin-quickstart
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/kn-plugin-quickstart"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "33 9 * * *"
  name: ci-knative-sandbox-kn-plugin-quickstart-nightly-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-quickstart
    path_alias: knative.dev/kn-plugin-quickstart
    base_ref: main
  annotations:
    testgrid-dashboards: kn-plugin-quickstart
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "5 9 * * 2"
  name: ci-knative-sandbox-kn-plugin-quickstart-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kn-plugin-quickstart
    path_alias: knative.dev/kn-plugin-quickstart
    base_ref: main
  annotations:
    testgrid-dashboards: kn-plugin-quickstart
    testgrid-tab-name: dot-release
    testgrid-alert-stale-results-hours: "170"
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/kn-plugin-quickstart"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "45 */4 * * *"
  name: ci-knative-docs-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: docs
    base_ref: main
  annotations:
    testgrid-dashboards: docs
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "33 8,11,22 * * *"
  name: ci-knative-docs-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: docs
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-docs-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "0 1 * * *"
  name: ci-knative-docs-go-coverage
  labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: ci-knative-docs-go-coverage
  agent: kubernetes
  decorate: true
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: docs
    base_ref: main
  annotations:
    testgrid-dashboards: docs
    testgrid-tab-name: docs-go-coverage
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - "runner.sh"
      args:
      - "coverage"
      - "--artifacts=$(ARTIFACTS)"
      - "--cov-threshold-percentage=50"
- cron: "11 7 * * *"
  name: ci-knative-docs-go-coverage-beta-prow-tests
  labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: ci-knative-docs-go-coverage
  agent: kubernetes
  decorate: true
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: docs
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-docs-go-coverage
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - "runner.sh"
      args:
      - "coverage"
      - "--artifacts=$(ARTIFACTS)"
      - "--cov-threshold-percentage=50"
- cron: "52 */4 * * *"
  name: ci-knative-eventing-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: eventing
    path_alias: knative.dev/eventing
    base_ref: main
  annotations:
    testgrid-dashboards: eventing
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "8 8,11,22 * * *"
  name: ci-knative-eventing-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: eventing
    path_alias: knative.dev/eventing
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-eventing-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "29 8 * * *"
  name: ci-knative-eventing-0.22-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: eventing
    path_alias: knative.dev/eventing
    base_ref: release-0.22
  annotations:
    testgrid-dashboards: knative-0.22
    testgrid-tab-name: eventing-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.22
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "41 8,11 * * *"
  name: ci-knative-eventing-0.22-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: eventing
    path_alias: knative.dev/eventing
    base_ref: release-0.22
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-eventing-0.22-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.22
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "4 8 * * *"
  name: ci-knative-eventing-0.23-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: eventing
    path_alias: knative.dev/eventing
    base_ref: release-0.23
  annotations:
    testgrid-dashboards: knative-0.23
    testgrid-tab-name: eventing-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.23
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "16 8,11 * * *"
  name: ci-knative-eventing-0.23-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: eventing
    path_alias: knative.dev/eventing
    base_ref: release-0.23
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-eventing-0.23-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.23
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "27 8 * * *"
  name: ci-knative-eventing-0.24-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: eventing
    path_alias: knative.dev/eventing
    base_ref: release-0.24
  annotations:
    testgrid-dashboards: knative-0.24
    testgrid-tab-name: eventing-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.24
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "59 8,11 * * *"
  name: ci-knative-eventing-0.24-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: eventing
    path_alias: knative.dev/eventing
    base_ref: release-0.24
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-eventing-0.24-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.24
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "26 8 * * *"
  name: ci-knative-eventing-0.25-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: eventing
    path_alias: knative.dev/eventing
    base_ref: release-0.25
  annotations:
    testgrid-dashboards: knative-0.25
    testgrid-tab-name: eventing-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.25
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "46 8,11 * * *"
  name: ci-knative-eventing-0.25-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: eventing
    path_alias: knative.dev/eventing
    base_ref: release-0.25
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-eventing-0.25-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.25
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "12 9 * * *"
  name: ci-knative-eventing-nightly-release
  agent: kubernetes
  decorate: true
  reporter_config:
    slack:
      channel: eventing
      report_template: "The nightly release job fails, check the log: <{{.Status.URL}}|View logs>"
      job_states_to_report:
      - "failure"
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: eventing
    path_alias: knative.dev/eventing
    base_ref: main
  annotations:
    testgrid-dashboards: eventing
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "53 9 * * 2"
  name: ci-knative-eventing-0.22-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: eventing
    path_alias: knative.dev/eventing
    base_ref: release-0.22
  annotations:
    testgrid-dashboards: knative-0.22
    testgrid-tab-name: eventing-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/eventing"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.22"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.22
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "54 9 * * 2"
  name: ci-knative-eventing-0.23-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: eventing
    path_alias: knative.dev/eventing
    base_ref: release-0.23
  annotations:
    testgrid-dashboards: knative-0.23
    testgrid-tab-name: eventing-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/eventing"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.23"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.23
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "7 9 * * 2"
  name: ci-knative-eventing-0.24-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: eventing
    path_alias: knative.dev/eventing
    base_ref: release-0.24
  annotations:
    testgrid-dashboards: knative-0.24
    testgrid-tab-name: eventing-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/eventing"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.24"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.24
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "20 9 * * 2"
  name: ci-knative-eventing-0.25-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: eventing
    path_alias: knative.dev/eventing
    base_ref: release-0.25
  annotations:
    testgrid-dashboards: knative-0.25
    testgrid-tab-name: eventing-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/eventing"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.25"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.25
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "52 */4 * * *"
  name: ci-knative-eventing-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: eventing
    path_alias: knative.dev/eventing
    base_ref: main
  annotations:
    testgrid-dashboards: eventing
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/eventing"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "0 7 * * *"
  name: ci-knative-eventing-s390x-e2e-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 120m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: eventing
    path_alias: knative.dev/eventing
    base_ref: main
  annotations:
    testgrid-dashboards: eventing
    testgrid-tab-name: s390x-e2e-tests
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "bash"
      - "-c"
      - "mkdir -p /root/.kube && server_addr=$(cat /opt/cluster/config) && ssh -o StrictHostKeyChecking=no -i /opt/cluster/knative01.pem linux1@${server_addr} cat /home/linux1/.kube/config > /root/.kube/config && kubectl get cm s390x-config-eventing -n default -o jsonpath='{.data.adjustment-script}' > adjust.sh && chmod +x adjust.sh && ./adjust.sh && ./test/e2e-tests.sh --run-tests"
      volumeMounts:
      - name: s390x-cluster1
        mountPath: /opt/cluster
        readOnly: true
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DISABLE_MD_LINTING
        value: "1"
      - name: KO_FLAGS
        value: "--platform=linux/s390x"
      - name: DEPLOY_KNATIVE_MONITORING
        value: "0"
      - name: SYSTEM_NAMESPACE
        value: "knative-eventing"
      - name: PLATFORM
        value: "linux/s390x"
      - name: KUBECONFIG
        value: "/root/.kube/config"
      - name: SCALE_CHAOSDUCK_TO_ZERO
        value: "1"
      - name: DOCKER_CONFIG
        value: "/opt/cluster"
      - name: KO_DOCKER_REPO
        valueFrom:
          secretKeyRef:
            name: s390x-cluster1
            key: ko-docker-repo
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: s390x-cluster1
      secret:
        secretName: s390x-cluster1
        defaultMode: 0600
    - name: test-account
      secret:
        secretName: test-account
- cron: "0 19 * * *"
  name: ci-knative-eventing-0.23-s390x-e2e-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 120m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: eventing
    path_alias: knative.dev/eventing
    base_ref: release-0.23
  annotations:
    testgrid-dashboards: knative-0.23
    testgrid-tab-name: eventing-s390x-e2e-tests
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "bash"
      - "-c"
      - "mkdir -p /root/.kube && server_addr=$(cat /opt/cluster/config) && ssh -o StrictHostKeyChecking=no -i /opt/cluster/knative01.pem linux1@${server_addr} cat /home/linux1/.kube/config > /root/.kube/config && kubectl get cm s390x-config-eventing -n default -o jsonpath='{.data.adjustment-script}' > adjust.sh && chmod +x adjust.sh && ./adjust.sh && ./test/e2e-tests.sh --run-tests"
      volumeMounts:
      - name: s390x-cluster1
        mountPath: /opt/cluster
        readOnly: true
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DISABLE_MD_LINTING
        value: "1"
      - name: KO_FLAGS
        value: "--platform=linux/s390x"
      - name: DEPLOY_KNATIVE_MONITORING
        value: "0"
      - name: SYSTEM_NAMESPACE
        value: "knative-eventing"
      - name: PLATFORM
        value: "linux/s390x"
      - name: KUBECONFIG
        value: "/root/.kube/config"
      - name: SCALE_CHAOSDUCK_TO_ZERO
        value: "1"
      - name: DOCKER_CONFIG
        value: "/opt/cluster"
      - name: KO_DOCKER_REPO
        valueFrom:
          secretKeyRef:
            name: s390x-cluster1
            key: ko-docker-repo
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.23
    volumes:
    - name: s390x-cluster1
      secret:
        secretName: s390x-cluster1
        defaultMode: 0600
    - name: test-account
      secret:
        secretName: test-account
- cron: "0 1 * * *"
  name: ci-knative-eventing-go-coverage
  labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: ci-knative-eventing-go-coverage
  agent: kubernetes
  decorate: true
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: eventing
    path_alias: knative.dev/eventing
    base_ref: main
  annotations:
    testgrid-dashboards: eventing
    testgrid-tab-name: eventing-go-coverage
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - "runner.sh"
      args:
      - "coverage"
      - "--artifacts=$(ARTIFACTS)"
      - "--cov-threshold-percentage=50"
- cron: "56 7 * * *"
  name: ci-knative-eventing-go-coverage-beta-prow-tests
  labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: ci-knative-eventing-go-coverage
  agent: kubernetes
  decorate: true
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: eventing
    path_alias: knative.dev/eventing
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-eventing-go-coverage
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - "runner.sh"
      args:
      - "coverage"
      - "--artifacts=$(ARTIFACTS)"
      - "--cov-threshold-percentage=50"
- cron: "21 */4 * * *"
  name: ci-knative-sandbox-eventing-awssqs-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-awssqs
    path_alias: knative.dev/eventing-awssqs
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-awssqs
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "25 8,11,22 * * *"
  name: ci-knative-sandbox-eventing-awssqs-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-awssqs
    path_alias: knative.dev/eventing-awssqs
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-eventing-awssqs-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "51 9 * * *"
  name: ci-knative-sandbox-eventing-awssqs-nightly-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-awssqs
    path_alias: knative.dev/eventing-awssqs
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-awssqs
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "21 */4 * * *"
  name: ci-knative-sandbox-eventing-awssqs-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-awssqs
    path_alias: knative.dev/eventing-awssqs
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-awssqs
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/eventing-awssqs"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "27 */4 * * *"
  name: ci-knative-sandbox-eventing-ceph-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-ceph
    path_alias: knative.dev/eventing-ceph
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-ceph
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "55 8,11,22 * * *"
  name: ci-knative-sandbox-eventing-ceph-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-ceph
    path_alias: knative.dev/eventing-ceph
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-eventing-ceph-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "5 9 * * *"
  name: ci-knative-sandbox-eventing-ceph-nightly-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-ceph
    path_alias: knative.dev/eventing-ceph
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-ceph
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "47 */4 * * *"
  name: ci-knative-sandbox-eventing-ceph-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-ceph
    path_alias: knative.dev/eventing-ceph
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-ceph
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/eventing-ceph"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "37 */4 * * *"
  name: ci-knative-sandbox-eventing-couchdb-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-couchdb
    path_alias: knative.dev/eventing-couchdb
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-couchdb
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "29 8,11,22 * * *"
  name: ci-knative-sandbox-eventing-couchdb-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-couchdb
    path_alias: knative.dev/eventing-couchdb
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-eventing-couchdb-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "11 9 * * *"
  name: ci-knative-sandbox-eventing-couchdb-nightly-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-couchdb
    path_alias: knative.dev/eventing-couchdb
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-couchdb
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "33 */4 * * *"
  name: ci-knative-sandbox-eventing-couchdb-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-couchdb
    path_alias: knative.dev/eventing-couchdb
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-couchdb
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/eventing-couchdb"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "46 */4 * * *"
  name: ci-knative-sandbox-eventing-github-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-github
    path_alias: knative.dev/eventing-github
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-github
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "30 8,11,22 * * *"
  name: ci-knative-sandbox-eventing-github-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-github
    path_alias: knative.dev/eventing-github
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-eventing-github-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "22 9 * * *"
  name: ci-knative-sandbox-eventing-github-nightly-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-github
    path_alias: knative.dev/eventing-github
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-github
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "42 */4 * * *"
  name: ci-knative-sandbox-eventing-github-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-github
    path_alias: knative.dev/eventing-github
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-github
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/eventing-github"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "38 */4 * * *"
  name: ci-knative-sandbox-eventing-gitlab-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-gitlab
    path_alias: knative.dev/eventing-gitlab
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-gitlab
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "34 8,11,22 * * *"
  name: ci-knative-sandbox-eventing-gitlab-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-gitlab
    path_alias: knative.dev/eventing-gitlab
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-eventing-gitlab-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "6 9 * * *"
  name: ci-knative-sandbox-eventing-gitlab-nightly-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-gitlab
    path_alias: knative.dev/eventing-gitlab
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-gitlab
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "23 9 * * 2"
  name: ci-knative-sandbox-eventing-gitlab-0.22-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-gitlab
    path_alias: knative.dev/eventing-gitlab
    base_ref: release-0.22
  annotations:
    testgrid-dashboards: knative-sandbox-0.22
    testgrid-tab-name: eventing-gitlab-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/eventing-gitlab"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.22"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.22
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "24 9 * * 2"
  name: ci-knative-sandbox-eventing-gitlab-0.23-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-gitlab
    path_alias: knative.dev/eventing-gitlab
    base_ref: release-0.23
  annotations:
    testgrid-dashboards: knative-sandbox-0.23
    testgrid-tab-name: eventing-gitlab-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/eventing-gitlab"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.23"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.23
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "21 9 * * 2"
  name: ci-knative-sandbox-eventing-gitlab-0.24-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-gitlab
    path_alias: knative.dev/eventing-gitlab
    base_ref: release-0.24
  annotations:
    testgrid-dashboards: knative-sandbox-0.24
    testgrid-tab-name: eventing-gitlab-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/eventing-gitlab"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.24"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.24
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "58 9 * * 2"
  name: ci-knative-sandbox-eventing-gitlab-0.25-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-gitlab
    path_alias: knative.dev/eventing-gitlab
    base_ref: release-0.25
  annotations:
    testgrid-dashboards: knative-sandbox-0.25
    testgrid-tab-name: eventing-gitlab-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/eventing-gitlab"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.25"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.25
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "6 */4 * * *"
  name: ci-knative-sandbox-eventing-gitlab-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-gitlab
    path_alias: knative.dev/eventing-gitlab
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-gitlab
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/eventing-gitlab"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "7 */4 * * *"
  name: ci-knative-sandbox-eventing-prometheus-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-prometheus
    path_alias: knative.dev/eventing-prometheus
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-prometheus
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "11 8,11,22 * * *"
  name: ci-knative-sandbox-eventing-prometheus-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-prometheus
    path_alias: knative.dev/eventing-prometheus
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-eventing-prometheus-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "37 9 * * *"
  name: ci-knative-sandbox-eventing-prometheus-nightly-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-prometheus
    path_alias: knative.dev/eventing-prometheus
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-prometheus
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "11 */4 * * *"
  name: ci-knative-sandbox-eventing-prometheus-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-prometheus
    path_alias: knative.dev/eventing-prometheus
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-prometheus
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/eventing-prometheus"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "0 */4 * * *"
  name: ci-knative-sandbox-eventing-redis-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-redis
    path_alias: knative.dev/eventing-redis
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-redis
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "52 8,11,22 * * *"
  name: ci-knative-sandbox-eventing-redis-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-redis
    path_alias: knative.dev/eventing-redis
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-eventing-redis-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "48 9 * * *"
  name: ci-knative-sandbox-eventing-redis-nightly-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-redis
    path_alias: knative.dev/eventing-redis
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-redis
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "48 */4 * * *"
  name: ci-knative-sandbox-eventing-redis-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-redis
    path_alias: knative.dev/eventing-redis
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-redis
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/eventing-redis"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "16 */4 * * *"
  name: ci-knative-sandbox-kperf-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kperf
    path_alias: knative.dev/kperf
    base_ref: main
  annotations:
    testgrid-dashboards: kperf
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "32 8,11,22 * * *"
  name: ci-knative-sandbox-kperf-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: kperf
    path_alias: knative.dev/kperf
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-kperf-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "2 */4 * * *"
  name: ci-knative-pkg-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: pkg
    path_alias: knative.dev/pkg
    base_ref: main
  annotations:
    testgrid-dashboards: pkg
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "18 8,11,22 * * *"
  name: ci-knative-pkg-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: pkg
    path_alias: knative.dev/pkg
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-pkg-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "47 */4 * * *"
  name: ci-knative-caching-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: caching
    path_alias: knative.dev/caching
    base_ref: main
  annotations:
    testgrid-dashboards: caching
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "43 8,11,22 * * *"
  name: ci-knative-caching-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: caching
    path_alias: knative.dev/caching
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-caching-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "5 */4 * * *"
  name: ci-knative-sandbox-sample-controller-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: sample-controller
    path_alias: knative.dev/sample-controller
    base_ref: main
  annotations:
    testgrid-dashboards: sample-controller
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "21 8,11,22 * * *"
  name: ci-knative-sandbox-sample-controller-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: sample-controller
    path_alias: knative.dev/sample-controller
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-sample-controller-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "55 9 * * *"
  name: ci-knative-sandbox-sample-controller-nightly-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: sample-controller
    path_alias: knative.dev/sample-controller
    base_ref: main
  annotations:
    testgrid-dashboards: sample-controller
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "1 */4 * * *"
  name: ci-knative-sandbox-sample-controller-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: sample-controller
    path_alias: knative.dev/sample-controller
    base_ref: main
  annotations:
    testgrid-dashboards: sample-controller
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/sample-controller"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "50 */4 * * *"
  name: ci-knative-sandbox-sample-source-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: sample-source
    path_alias: knative.dev/sample-source
    base_ref: main
  annotations:
    testgrid-dashboards: sample-source
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "6 8,11,22 * * *"
  name: ci-knative-sandbox-sample-source-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: sample-source
    path_alias: knative.dev/sample-source
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-sample-source-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "10 9 * * *"
  name: ci-knative-sandbox-sample-source-nightly-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: sample-source
    path_alias: knative.dev/sample-source
    base_ref: main
  annotations:
    testgrid-dashboards: sample-source
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "54 */4 * * *"
  name: ci-knative-sandbox-sample-source-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: sample-source
    path_alias: knative.dev/sample-source
    base_ref: main
  annotations:
    testgrid-dashboards: sample-source
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/sample-source"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "49 */4 * * *"
  name: ci-knative-test-infra-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: test-infra
    path_alias: knative.dev/test-infra
    base_ref: main
  annotations:
    testgrid-dashboards: test-infra
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "57 8,11,22 * * *"
  name: ci-knative-test-infra-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: test-infra
    path_alias: knative.dev/test-infra
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-test-infra-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "0 1 * * *"
  name: ci-knative-test-infra-go-coverage
  labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: ci-knative-test-infra-go-coverage
  agent: kubernetes
  decorate: true
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: test-infra
    path_alias: knative.dev/test-infra
    base_ref: main
  annotations:
    testgrid-dashboards: test-infra
    testgrid-tab-name: test-infra-go-coverage
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - "runner.sh"
      args:
      - "coverage"
      - "--artifacts=$(ARTIFACTS)"
      - "--cov-threshold-percentage=50"
- cron: "43 7 * * *"
  name: ci-knative-test-infra-go-coverage-beta-prow-tests
  labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: ci-knative-test-infra-go-coverage
  agent: kubernetes
  decorate: true
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: test-infra
    path_alias: knative.dev/test-infra
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-test-infra-go-coverage
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - "runner.sh"
      args:
      - "coverage"
      - "--artifacts=$(ARTIFACTS)"
      - "--cov-threshold-percentage=50"
- cron: "18 */4 * * *"
  name: ci-google-knative-gcp-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: google
    repo: knative-gcp
    base_ref: main
  annotations:
    testgrid-dashboards: knative-gcp
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "14 8,11,22 * * *"
  name: ci-google-knative-gcp-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: google
    repo: knative-gcp
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-google-knative-gcp-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "33 8 * * *"
  name: ci-google-knative-gcp-0.20-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: google
    repo: knative-gcp
    base_ref: release-0.20
  annotations:
    testgrid-dashboards: google-0.20
    testgrid-tab-name: knative-gcp-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.20
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "49 8,11 * * *"
  name: ci-google-knative-gcp-0.20-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: google
    repo: knative-gcp
    base_ref: release-0.20
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-google-knative-gcp-0.20-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.20
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "48 8 * * *"
  name: ci-google-knative-gcp-0.21-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: google
    repo: knative-gcp
    base_ref: release-0.21
  annotations:
    testgrid-dashboards: google-0.21
    testgrid-tab-name: knative-gcp-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.21
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "4 8,11 * * *"
  name: ci-google-knative-gcp-0.21-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: google
    repo: knative-gcp
    base_ref: release-0.21
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-google-knative-gcp-0.21-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.21
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "55 8 * * *"
  name: ci-google-knative-gcp-0.22-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: google
    repo: knative-gcp
    base_ref: release-0.22
  annotations:
    testgrid-dashboards: google-0.22
    testgrid-tab-name: knative-gcp-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.22
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "35 8,11 * * *"
  name: ci-google-knative-gcp-0.22-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: google
    repo: knative-gcp
    base_ref: release-0.22
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-google-knative-gcp-0.22-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.22
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "54 8 * * *"
  name: ci-google-knative-gcp-0.23-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: google
    repo: knative-gcp
    base_ref: release-0.23
  annotations:
    testgrid-dashboards: google-0.23
    testgrid-tab-name: knative-gcp-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.23
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "22 8,11 * * *"
  name: ci-google-knative-gcp-0.23-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: google
    repo: knative-gcp
    base_ref: release-0.23
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-google-knative-gcp-0.23-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.23
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "34 9 * * *"
  name: ci-google-knative-gcp-nightly-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: google
    repo: knative-gcp
    base_ref: main
  annotations:
    testgrid-dashboards: knative-gcp
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      - "--release-gcs knative-gcp-nightly"
      - "--release-gcr gcr.io/knative-gcp-nightly"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "57 9 * * 2"
  name: ci-google-knative-gcp-0.20-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: google
    repo: knative-gcp
    base_ref: release-0.20
  annotations:
    testgrid-dashboards: google-0.20
    testgrid-tab-name: knative-gcp-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-gcp"
      - "--release-gcr gcr.io/knative-gcp"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.20"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: google
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.20
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "54 9 * * 2"
  name: ci-google-knative-gcp-0.21-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: google
    repo: knative-gcp
    base_ref: release-0.21
  annotations:
    testgrid-dashboards: google-0.21
    testgrid-tab-name: knative-gcp-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-gcp"
      - "--release-gcr gcr.io/knative-gcp"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.21"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: google
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.21
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "51 9 * * 2"
  name: ci-google-knative-gcp-0.22-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: google
    repo: knative-gcp
    base_ref: release-0.22
  annotations:
    testgrid-dashboards: google-0.22
    testgrid-tab-name: knative-gcp-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-gcp"
      - "--release-gcr gcr.io/knative-gcp"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.21"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: google
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.22
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "24 9 * * 2"
  name: ci-google-knative-gcp-0.23-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: google
    repo: knative-gcp
    base_ref: release-0.23
  annotations:
    testgrid-dashboards: google-0.23
    testgrid-tab-name: knative-gcp-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-gcp"
      - "--release-gcr gcr.io/knative-gcp"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.21"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: google
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.23
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "42 */4 * * *"
  name: ci-google-knative-gcp-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: google
    repo: knative-gcp
    base_ref: main
  annotations:
    testgrid-dashboards: knative-gcp
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-gcp"
      - "--release-gcr gcr.io/knative-gcp"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: google
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "0 1 * * *"
  name: ci-google-knative-gcp-go-coverage
  labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: ci-google-knative-gcp-go-coverage
  agent: kubernetes
  decorate: true
  cluster: "build-knative"
  extra_refs:
  - org: google
    repo: knative-gcp
    base_ref: main
  annotations:
    testgrid-dashboards: knative-gcp
    testgrid-tab-name: knative-gcp-go-coverage
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - "runner.sh"
      args:
      - "coverage"
      - "--artifacts=$(ARTIFACTS)"
      - "--cov-threshold-percentage=50"
- cron: "18 7 * * *"
  name: ci-google-knative-gcp-go-coverage-beta-prow-tests
  labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: ci-google-knative-gcp-go-coverage
  agent: kubernetes
  decorate: true
  cluster: "build-knative"
  extra_refs:
  - org: google
    repo: knative-gcp
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-google-knative-gcp-go-coverage
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - "runner.sh"
      args:
      - "coverage"
      - "--artifacts=$(ARTIFACTS)"
      - "--cov-threshold-percentage=50"
- cron: "59 */4 * * *"
  name: ci-knative-sandbox-net-certmanager-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-certmanager
    path_alias: knative.dev/net-certmanager
    base_ref: main
  annotations:
    testgrid-dashboards: net-certmanager
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "31 8,11,22 * * *"
  name: ci-knative-sandbox-net-certmanager-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-certmanager
    path_alias: knative.dev/net-certmanager
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-net-certmanager-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "45 9 * * *"
  name: ci-knative-sandbox-net-certmanager-nightly-release
  agent: kubernetes
  decorate: true
  reporter_config:
    slack:
      channel: net-certmanager
      report_template: "The nightly release job fails, check the log: <{{.Status.URL}}|View logs>"
      job_states_to_report:
      - "failure"
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-certmanager
    path_alias: knative.dev/net-certmanager
    base_ref: main
  annotations:
    testgrid-dashboards: net-certmanager
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "9 9 * * 2"
  name: ci-knative-sandbox-net-certmanager-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-certmanager
    path_alias: knative.dev/net-certmanager
    base_ref: main
  annotations:
    testgrid-dashboards: net-certmanager
    testgrid-tab-name: dot-release
    testgrid-alert-stale-results-hours: "170"
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/net-certmanager"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "27 */4 * * *"
  name: ci-knative-sandbox-net-certmanager-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-certmanager
    path_alias: knative.dev/net-certmanager
    base_ref: main
  annotations:
    testgrid-dashboards: net-certmanager
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/net-certmanager"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "0 1 * * *"
  name: ci-knative-sandbox-net-certmanager-go-coverage
  labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: ci-knative-sandbox-net-certmanager-go-coverage
  agent: kubernetes
  decorate: true
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-certmanager
    path_alias: knative.dev/net-certmanager
    base_ref: main
  annotations:
    testgrid-dashboards: net-certmanager
    testgrid-tab-name: net-certmanager-go-coverage
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - "runner.sh"
      args:
      - "coverage"
      - "--artifacts=$(ARTIFACTS)"
      - "--cov-threshold-percentage=50"
- cron: "49 7 * * *"
  name: ci-knative-sandbox-net-certmanager-go-coverage-beta-prow-tests
  labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: ci-knative-sandbox-net-certmanager-go-coverage
  agent: kubernetes
  decorate: true
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-certmanager
    path_alias: knative.dev/net-certmanager
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-net-certmanager-go-coverage
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - "runner.sh"
      args:
      - "coverage"
      - "--artifacts=$(ARTIFACTS)"
      - "--cov-threshold-percentage=50"
- cron: "38 */4 * * *"
  name: ci-knative-sandbox-net-contour-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-contour
    path_alias: knative.dev/net-contour
    base_ref: main
  annotations:
    testgrid-dashboards: net-contour
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "38 8,11,22 * * *"
  name: ci-knative-sandbox-net-contour-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-contour
    path_alias: knative.dev/net-contour
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-net-contour-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "42 9 * * *"
  name: ci-knative-sandbox-net-contour-nightly-release
  agent: kubernetes
  decorate: true
  reporter_config:
    slack:
      channel: net-contour
      report_template: "The nightly release job fails, check the log: <{{.Status.URL}}|View logs>"
      job_states_to_report:
      - "failure"
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-contour
    path_alias: knative.dev/net-contour
    base_ref: main
  annotations:
    testgrid-dashboards: net-contour
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "58 9 * * 2"
  name: ci-knative-sandbox-net-contour-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-contour
    path_alias: knative.dev/net-contour
    base_ref: main
  annotations:
    testgrid-dashboards: net-contour
    testgrid-tab-name: dot-release
    testgrid-alert-stale-results-hours: "170"
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/net-contour"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "42 */4 * * *"
  name: ci-knative-sandbox-net-contour-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-contour
    path_alias: knative.dev/net-contour
    base_ref: main
  annotations:
    testgrid-dashboards: net-contour
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/net-contour"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "9 */4 * * *"
  name: ci-knative-sandbox-net-http01-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-http01
    path_alias: knative.dev/net-http01
    base_ref: main
  annotations:
    testgrid-dashboards: net-http01
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "45 8,11,22 * * *"
  name: ci-knative-sandbox-net-http01-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-http01
    path_alias: knative.dev/net-http01
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-net-http01-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "59 9 * * *"
  name: ci-knative-sandbox-net-http01-nightly-release
  agent: kubernetes
  decorate: true
  reporter_config:
    slack:
      channel: net-http01
      report_template: "The nightly release job fails, check the log: <{{.Status.URL}}|View logs>"
      job_states_to_report:
      - "failure"
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-http01
    path_alias: knative.dev/net-http01
    base_ref: main
  annotations:
    testgrid-dashboards: net-http01
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "7 9 * * 2"
  name: ci-knative-sandbox-net-http01-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-http01
    path_alias: knative.dev/net-http01
    base_ref: main
  annotations:
    testgrid-dashboards: net-http01
    testgrid-tab-name: dot-release
    testgrid-alert-stale-results-hours: "170"
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/net-http01"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "5 */4 * * *"
  name: ci-knative-sandbox-net-http01-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-http01
    path_alias: knative.dev/net-http01
    base_ref: main
  annotations:
    testgrid-dashboards: net-http01
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/net-http01"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "8 */4 * * *"
  name: ci-knative-sandbox-net-istio-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-istio
    path_alias: knative.dev/net-istio
    base_ref: main
  annotations:
    testgrid-dashboards: net-istio
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "48 8,11,22 * * *"
  name: ci-knative-sandbox-net-istio-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-istio
    path_alias: knative.dev/net-istio
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-net-istio-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "8 9 * * *"
  name: ci-knative-sandbox-net-istio-nightly-release
  agent: kubernetes
  decorate: true
  reporter_config:
    slack:
      channel: net-istio
      report_template: "The nightly release job fails, check the log: <{{.Status.URL}}|View logs>"
      job_states_to_report:
      - "failure"
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-istio
    path_alias: knative.dev/net-istio
    base_ref: main
  annotations:
    testgrid-dashboards: net-istio
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "34 */3 * * *"
  name: ci-knative-sandbox-net-istio-latest
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 120m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-istio
    path_alias: knative.dev/net-istio
    base_ref: main
  annotations:
    testgrid-dashboards: net-istio
    testgrid-tab-name: latest
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--run-test"
      - "./test/e2e-tests.sh --istio-version latest"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "45 9 * * 2"
  name: ci-knative-sandbox-net-istio-0.22-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-istio
    path_alias: knative.dev/net-istio
    base_ref: release-0.22
  annotations:
    testgrid-dashboards: knative-sandbox-0.22
    testgrid-tab-name: net-istio-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/net-istio"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.22"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.22
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "42 9 * * 2"
  name: ci-knative-sandbox-net-istio-0.23-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-istio
    path_alias: knative.dev/net-istio
    base_ref: release-0.23
  annotations:
    testgrid-dashboards: knative-sandbox-0.23
    testgrid-tab-name: net-istio-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/net-istio"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.23"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.23
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "27 9 * * 2"
  name: ci-knative-sandbox-net-istio-0.24-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-istio
    path_alias: knative.dev/net-istio
    base_ref: release-0.24
  annotations:
    testgrid-dashboards: knative-sandbox-0.24
    testgrid-tab-name: net-istio-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/net-istio"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.24"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.24
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "0 9 * * 2"
  name: ci-knative-sandbox-net-istio-0.25-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-istio
    path_alias: knative.dev/net-istio
    base_ref: release-0.25
  annotations:
    testgrid-dashboards: knative-sandbox-0.25
    testgrid-tab-name: net-istio-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/net-istio"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.25"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.25
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "12 */4 * * *"
  name: ci-knative-sandbox-net-istio-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-istio
    path_alias: knative.dev/net-istio
    base_ref: main
  annotations:
    testgrid-dashboards: net-istio
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/net-istio"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "0 1 * * *"
  name: ci-knative-sandbox-net-istio-go-coverage
  labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: ci-knative-sandbox-net-istio-go-coverage
  agent: kubernetes
  decorate: true
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-istio
    path_alias: knative.dev/net-istio
    base_ref: main
  annotations:
    testgrid-dashboards: net-istio
    testgrid-tab-name: net-istio-go-coverage
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - "runner.sh"
      args:
      - "coverage"
      - "--artifacts=$(ARTIFACTS)"
      - "--cov-threshold-percentage=50"
- cron: "12 7 * * *"
  name: ci-knative-sandbox-net-istio-go-coverage-beta-prow-tests
  labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: ci-knative-sandbox-net-istio-go-coverage
  agent: kubernetes
  decorate: true
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-istio
    path_alias: knative.dev/net-istio
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-net-istio-go-coverage
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - "runner.sh"
      args:
      - "coverage"
      - "--artifacts=$(ARTIFACTS)"
      - "--cov-threshold-percentage=50"
- cron: "17 */4 * * *"
  name: ci-knative-sandbox-net-kourier-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-kourier
    path_alias: knative.dev/net-kourier
    base_ref: main
  annotations:
    testgrid-dashboards: net-kourier
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "17 8,11,22 * * *"
  name: ci-knative-sandbox-net-kourier-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-kourier
    path_alias: knative.dev/net-kourier
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-net-kourier-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "3 9 * * *"
  name: ci-knative-sandbox-net-kourier-nightly-release
  agent: kubernetes
  decorate: true
  reporter_config:
    slack:
      channel: net-kourier
      report_template: "The nightly release job fails, check the log: <{{.Status.URL}}|View logs>"
      job_states_to_report:
      - "failure"
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-kourier
    path_alias: knative.dev/net-kourier
    base_ref: main
  annotations:
    testgrid-dashboards: net-kourier
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "27 9 * * 2"
  name: ci-knative-sandbox-net-kourier-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-kourier
    path_alias: knative.dev/net-kourier
    base_ref: main
  annotations:
    testgrid-dashboards: net-kourier
    testgrid-tab-name: dot-release
    testgrid-alert-stale-results-hours: "170"
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/net-kourier"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "53 */4 * * *"
  name: ci-knative-sandbox-net-kourier-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-kourier
    path_alias: knative.dev/net-kourier
    base_ref: main
  annotations:
    testgrid-dashboards: net-kourier
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/net-kourier"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "0 1 * * *"
  name: ci-knative-sandbox-net-kourier-go-coverage
  labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: ci-knative-sandbox-net-kourier-go-coverage
  agent: kubernetes
  decorate: true
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-kourier
    path_alias: knative.dev/net-kourier
    base_ref: main
  annotations:
    testgrid-dashboards: net-kourier
    testgrid-tab-name: net-kourier-go-coverage
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - "runner.sh"
      args:
      - "coverage"
      - "--artifacts=$(ARTIFACTS)"
      - "--cov-threshold-percentage=50"
- cron: "3 7 * * *"
  name: ci-knative-sandbox-net-kourier-go-coverage-beta-prow-tests
  labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: ci-knative-sandbox-net-kourier-go-coverage
  agent: kubernetes
  decorate: true
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: net-kourier
    path_alias: knative.dev/net-kourier
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-net-kourier-go-coverage
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - "runner.sh"
      args:
      - "coverage"
      - "--artifacts=$(ARTIFACTS)"
      - "--cov-threshold-percentage=50"
- cron: "0 */4 * * *"
  name: ci-knative-operator-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: operator
    path_alias: knative.dev/operator
    base_ref: main
  annotations:
    testgrid-dashboards: operator
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "40 8,11,22 * * *"
  name: ci-knative-operator-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: operator
    path_alias: knative.dev/operator
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-operator-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "41 8 * * *"
  name: ci-knative-operator-0.22-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: operator
    path_alias: knative.dev/operator
    base_ref: release-0.22
  annotations:
    testgrid-dashboards: knative-0.22
    testgrid-tab-name: operator-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.22
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "21 8,11 * * *"
  name: ci-knative-operator-0.22-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: operator
    path_alias: knative.dev/operator
    base_ref: release-0.22
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-operator-0.22-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.22
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "56 8 * * *"
  name: ci-knative-operator-0.23-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: operator
    path_alias: knative.dev/operator
    base_ref: release-0.23
  annotations:
    testgrid-dashboards: knative-0.23
    testgrid-tab-name: operator-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.23
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "0 8,11 * * *"
  name: ci-knative-operator-0.23-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: operator
    path_alias: knative.dev/operator
    base_ref: release-0.23
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-operator-0.23-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.23
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "43 8 * * *"
  name: ci-knative-operator-0.24-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: operator
    path_alias: knative.dev/operator
    base_ref: release-0.24
  annotations:
    testgrid-dashboards: knative-0.24
    testgrid-tab-name: operator-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.24
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "43 8,11 * * *"
  name: ci-knative-operator-0.24-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: operator
    path_alias: knative.dev/operator
    base_ref: release-0.24
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-operator-0.24-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.24
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "34 8 * * *"
  name: ci-knative-operator-0.25-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: operator
    path_alias: knative.dev/operator
    base_ref: release-0.25
  annotations:
    testgrid-dashboards: knative-0.25
    testgrid-tab-name: operator-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.25
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "42 8,11 * * *"
  name: ci-knative-operator-0.25-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: operator
    path_alias: knative.dev/operator
    base_ref: release-0.25
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-operator-0.25-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--nopublish"
      - "--notag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.25
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "48 9 * * *"
  name: ci-knative-operator-nightly-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: operator
    path_alias: knative.dev/operator
    base_ref: main
  annotations:
    testgrid-dashboards: operator
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "9 9 * * 2"
  name: ci-knative-operator-0.22-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: operator
    path_alias: knative.dev/operator
    base_ref: release-0.22
  annotations:
    testgrid-dashboards: knative-0.22
    testgrid-tab-name: operator-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/operator"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.22"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.22
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "30 9 * * 2"
  name: ci-knative-operator-0.23-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: operator
    path_alias: knative.dev/operator
    base_ref: release-0.23
  annotations:
    testgrid-dashboards: knative-0.23
    testgrid-tab-name: operator-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/operator"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.23"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.23
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "19 9 * * 2"
  name: ci-knative-operator-0.24-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: operator
    path_alias: knative.dev/operator
    base_ref: release-0.24
  annotations:
    testgrid-dashboards: knative-0.24
    testgrid-tab-name: operator-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/operator"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.24"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.24
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "48 9 * * 2"
  name: ci-knative-operator-0.25-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: operator
    path_alias: knative.dev/operator
    base_ref: release-0.25
  annotations:
    testgrid-dashboards: knative-0.25
    testgrid-tab-name: operator-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/operator"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.25"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.25
      resources:
        requests:
          memory: 12Gi
        limits:
          memory: 16Gi
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "32 */4 * * *"
  name: ci-knative-operator-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: operator
    path_alias: knative.dev/operator
    base_ref: main
  annotations:
    testgrid-dashboards: operator
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/operator"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "0 9 * * *"
  name: ci-knative-operator-s390x-e2e-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 120m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: operator
    path_alias: knative.dev/operator
    base_ref: main
  annotations:
    testgrid-dashboards: operator
    testgrid-tab-name: s390x-e2e-tests
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "bash"
      - "-c"
      - "mkdir -p /root/.kube && server_addr=$(cat /opt/cluster/config) && ssh -o StrictHostKeyChecking=no -i /opt/cluster/knative01.pem linux1@${server_addr} cat /home/linux1/.kube/config > /root/.kube/config && kubectl get cm s390x-config-operator -n default -o jsonpath='{.data.adjustment-script}' > adjust.sh && chmod +x adjust.sh && ./adjust.sh && ./test/e2e-tests.sh --run-tests"
      volumeMounts:
      - name: s390x-cluster1
        mountPath: /opt/cluster
        readOnly: true
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DISABLE_MD_LINTING
        value: "1"
      - name: KO_FLAGS
        value: "--platform=linux/s390x"
      - name: PLATFORM
        value: "linux/s390x"
      - name: KUBECONFIG
        value: "/root/.kube/config"
      - name: DOCKER_CONFIG
        value: "/opt/cluster"
      - name: INGRESS_CLASS
        value: "contour.ingress.networking.knative.dev"
      - name: KO_DOCKER_REPO
        valueFrom:
          secretKeyRef:
            name: s390x-cluster1
            key: ko-docker-repo
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: s390x-cluster1
      secret:
        secretName: s390x-cluster1
        defaultMode: 0600
    - name: test-account
      secret:
        secretName: test-account
- cron: "0 21 * * *"
  name: ci-knative-operator-0.23-s390x-e2e-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 120m
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: operator
    path_alias: knative.dev/operator
    base_ref: release-0.23
  annotations:
    testgrid-dashboards: knative-0.23
    testgrid-tab-name: operator-s390x-e2e-tests
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "bash"
      - "-c"
      - "mkdir -p /root/.kube && server_addr=$(cat /opt/cluster/config) && ssh -o StrictHostKeyChecking=no -i /opt/cluster/knative01.pem linux1@${server_addr} cat /home/linux1/.kube/config > /root/.kube/config && kubectl get cm s390x-config-operator -n default -o jsonpath='{.data.adjustment-script}' > adjust.sh && chmod +x adjust.sh && ./adjust.sh && ./test/e2e-tests.sh --run-tests"
      volumeMounts:
      - name: s390x-cluster1
        mountPath: /opt/cluster
        readOnly: true
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DISABLE_MD_LINTING
        value: "1"
      - name: KO_FLAGS
        value: "--platform=linux/s390x"
      - name: PLATFORM
        value: "linux/s390x"
      - name: KUBECONFIG
        value: "/root/.kube/config"
      - name: DOCKER_CONFIG
        value: "/opt/cluster"
      - name: INGRESS_CLASS
        value: "contour.ingress.networking.knative.dev"
      - name: KO_DOCKER_REPO
        valueFrom:
          secretKeyRef:
            name: s390x-cluster1
            key: ko-docker-repo
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.23
    volumes:
    - name: s390x-cluster1
      secret:
        secretName: s390x-cluster1
        defaultMode: 0600
    - name: test-account
      secret:
        secretName: test-account
- cron: "0 1 * * *"
  name: ci-knative-operator-go-coverage
  labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: ci-knative-operator-go-coverage
  agent: kubernetes
  decorate: true
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: operator
    path_alias: knative.dev/operator
    base_ref: main
  annotations:
    testgrid-dashboards: operator
    testgrid-tab-name: operator-go-coverage
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - "runner.sh"
      args:
      - "coverage"
      - "--artifacts=$(ARTIFACTS)"
      - "--cov-threshold-percentage=50"
- cron: "40 7 * * *"
  name: ci-knative-operator-go-coverage-beta-prow-tests
  labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: ci-knative-operator-go-coverage
  agent: kubernetes
  decorate: true
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: operator
    path_alias: knative.dev/operator
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-operator-go-coverage
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - "runner.sh"
      args:
      - "coverage"
      - "--artifacts=$(ARTIFACTS)"
      - "--cov-threshold-percentage=50"
- cron: "36 */4 * * *"
  name: ci-knative-sandbox-async-component-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: async-component
    path_alias: knative.dev/async-component
    base_ref: main
  annotations:
    testgrid-dashboards: async-component
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "16 8,11,22 * * *"
  name: ci-knative-sandbox-async-component-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: async-component
    path_alias: knative.dev/async-component
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-async-component-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "0 9 * * *"
  name: ci-knative-sandbox-async-component-nightly-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: async-component
    path_alias: knative.dev/async-component
    base_ref: main
  annotations:
    testgrid-dashboards: async-component
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "8 9 * * 2"
  name: ci-knative-sandbox-async-component-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: async-component
    path_alias: knative.dev/async-component
    base_ref: main
  annotations:
    testgrid-dashboards: async-component
    testgrid-tab-name: dot-release
    testgrid-alert-stale-results-hours: "170"
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/async-component"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "24 */4 * * *"
  name: ci-knative-sandbox-async-component-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: async-component
    path_alias: knative.dev/async-component
    base_ref: main
  annotations:
    testgrid-dashboards: async-component
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/async-component"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "0 1 * * *"
  name: ci-knative-sandbox-async-component-go-coverage
  labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: ci-knative-sandbox-async-component-go-coverage
  agent: kubernetes
  decorate: true
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: async-component
    path_alias: knative.dev/async-component
    base_ref: main
  annotations:
    testgrid-dashboards: async-component
    testgrid-tab-name: async-component-go-coverage
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - "runner.sh"
      args:
      - "coverage"
      - "--artifacts=$(ARTIFACTS)"
      - "--cov-threshold-percentage=50"
- cron: "36 7 * * *"
  name: ci-knative-sandbox-async-component-go-coverage-beta-prow-tests
  labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: ci-knative-sandbox-async-component-go-coverage
  agent: kubernetes
  decorate: true
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: async-component
    path_alias: knative.dev/async-component
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-async-component-go-coverage
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - "runner.sh"
      args:
      - "coverage"
      - "--artifacts=$(ARTIFACTS)"
      - "--cov-threshold-percentage=50"
- cron: "32 */4 * * *"
  name: ci-knative-sandbox-discovery-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: discovery
    path_alias: knative.dev/discovery
    base_ref: main
  annotations:
    testgrid-dashboards: discovery
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "8 8,11,22 * * *"
  name: ci-knative-sandbox-discovery-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: discovery
    path_alias: knative.dev/discovery
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-discovery-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "24 9 * * *"
  name: ci-knative-sandbox-discovery-nightly-release
  agent: kubernetes
  decorate: true
  reporter_config:
    slack:
      channel: eventing-sources
      report_template: "The nightly release job for discovery failed, check the log: <{{.Status.URL}}|View logs>"
      job_states_to_report:
      - "failure"
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: discovery
    path_alias: knative.dev/discovery
    base_ref: main
  annotations:
    testgrid-dashboards: discovery
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "32 9 * * 2"
  name: ci-knative-sandbox-discovery-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: discovery
    path_alias: knative.dev/discovery
    base_ref: main
  annotations:
    testgrid-dashboards: discovery
    testgrid-tab-name: dot-release
    testgrid-alert-stale-results-hours: "170"
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/discovery"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "28 */4 * * *"
  name: ci-knative-sandbox-discovery-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: discovery
    path_alias: knative.dev/discovery
    base_ref: main
  annotations:
    testgrid-dashboards: discovery
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/discovery"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "23 */4 * * *"
  name: ci-knative-sandbox-eventing-camel-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-camel
    path_alias: knative.dev/eventing-camel
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-camel
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "27 8,11,22 * * *"
  name: ci-knative-sandbox-eventing-camel-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-camel
    path_alias: knative.dev/eventing-camel
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-eventing-camel-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "17 9 * * *"
  name: ci-knative-sandbox-eventing-camel-nightly-release
  agent: kubernetes
  decorate: true
  reporter_config:
    slack:
      channel: eventing-sources
      report_template: "The nightly release job for camel failed, check the log: <{{.Status.URL}}|View logs>"
      job_states_to_report:
      - "failure"
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-camel
    path_alias: knative.dev/eventing-camel
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-camel
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "25 9 * * 2"
  name: ci-knative-sandbox-eventing-camel-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-camel
    path_alias: knative.dev/eventing-camel
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-camel
    testgrid-tab-name: dot-release
    testgrid-alert-stale-results-hours: "170"
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/eventing-camel"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "55 */4 * * *"
  name: ci-knative-sandbox-eventing-camel-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-camel
    path_alias: knative.dev/eventing-camel
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-camel
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/eventing-camel"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "31 */4 * * *"
  name: ci-knative-sandbox-eventing-kafka-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-kafka
    path_alias: knative.dev/eventing-kafka
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-kafka
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "15 8,11,22 * * *"
  name: ci-knative-sandbox-eventing-kafka-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-kafka
    path_alias: knative.dev/eventing-kafka
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-eventing-kafka-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "37 9 * * *"
  name: ci-knative-sandbox-eventing-kafka-nightly-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-kafka
    path_alias: knative.dev/eventing-kafka
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-kafka
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "54 9 * * 2"
  name: ci-knative-sandbox-eventing-kafka-0.22-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-kafka
    path_alias: knative.dev/eventing-kafka
    base_ref: release-0.22
  annotations:
    testgrid-dashboards: knative-sandbox-0.22
    testgrid-tab-name: eventing-kafka-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/eventing-kafka"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.22"
      securityContext:
        privileged: true
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.22
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: release-account
      secret:
        secretName: release-account
- cron: "17 9 * * 2"
  name: ci-knative-sandbox-eventing-kafka-0.23-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-kafka
    path_alias: knative.dev/eventing-kafka
    base_ref: release-0.23
  annotations:
    testgrid-dashboards: knative-sandbox-0.23
    testgrid-tab-name: eventing-kafka-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/eventing-kafka"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.23"
      securityContext:
        privileged: true
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.23
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: release-account
      secret:
        secretName: release-account
- cron: "12 9 * * 2"
  name: ci-knative-sandbox-eventing-kafka-0.24-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-kafka
    path_alias: knative.dev/eventing-kafka
    base_ref: release-0.24
  annotations:
    testgrid-dashboards: knative-sandbox-0.24
    testgrid-tab-name: eventing-kafka-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/eventing-kafka"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.24"
      securityContext:
        privileged: true
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.24
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: release-account
      secret:
        secretName: release-account
- cron: "19 9 * * 2"
  name: ci-knative-sandbox-eventing-kafka-0.25-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-kafka
    path_alias: knative.dev/eventing-kafka
    base_ref: release-0.25
  annotations:
    testgrid-dashboards: knative-sandbox-0.25
    testgrid-tab-name: eventing-kafka-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/eventing-kafka"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.25"
      securityContext:
        privileged: true
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.25
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: release-account
      secret:
        secretName: release-account
- cron: "31 */4 * * *"
  name: ci-knative-sandbox-eventing-kafka-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-kafka
    path_alias: knative.dev/eventing-kafka
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-kafka
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/eventing-kafka"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      securityContext:
        privileged: true
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: release-account
      secret:
        secretName: release-account
- cron: "0 1 * * *"
  name: ci-knative-sandbox-eventing-kafka-go-coverage
  labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: ci-knative-sandbox-eventing-kafka-go-coverage
  agent: kubernetes
  decorate: true
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-kafka
    path_alias: knative.dev/eventing-kafka
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-kafka
    testgrid-tab-name: eventing-kafka-go-coverage
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - "runner.sh"
      args:
      - "coverage"
      - "--artifacts=$(ARTIFACTS)"
      - "--cov-threshold-percentage=50"
- cron: "25 7 * * *"
  name: ci-knative-sandbox-eventing-kafka-go-coverage-beta-prow-tests
  labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: ci-knative-sandbox-eventing-kafka-go-coverage
  agent: kubernetes
  decorate: true
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-kafka
    path_alias: knative.dev/eventing-kafka
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-eventing-kafka-go-coverage
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - "runner.sh"
      args:
      - "coverage"
      - "--artifacts=$(ARTIFACTS)"
      - "--cov-threshold-percentage=50"
- cron: "59 */4 * * *"
  name: ci-knative-sandbox-eventing-kafka-broker-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-kafka-broker
    path_alias: knative.dev/eventing-kafka-broker
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-kafka-broker
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "19 8,11,22 * * *"
  name: ci-knative-sandbox-eventing-kafka-broker-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-kafka-broker
    path_alias: knative.dev/eventing-kafka-broker
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-eventing-kafka-broker-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: test-account
      secret:
        secretName: test-account
- cron: "49 9 * * *"
  name: ci-knative-sandbox-eventing-kafka-broker-nightly-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-kafka-broker
    path_alias: knative.dev/eventing-kafka-broker
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-kafka-broker
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      securityContext:
        privileged: true
      volumeMounts:
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "6 9 * * 2"
  name: ci-knative-sandbox-eventing-kafka-broker-0.22-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-kafka-broker
    path_alias: knative.dev/eventing-kafka-broker
    base_ref: release-0.22
  annotations:
    testgrid-dashboards: knative-sandbox-0.22
    testgrid-tab-name: eventing-kafka-broker-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/eventing-kafka-broker"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.22"
      securityContext:
        privileged: true
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.22
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: release-account
      secret:
        secretName: release-account
- cron: "29 9 * * 2"
  name: ci-knative-sandbox-eventing-kafka-broker-0.23-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-kafka-broker
    path_alias: knative.dev/eventing-kafka-broker
    base_ref: release-0.23
  annotations:
    testgrid-dashboards: knative-sandbox-0.23
    testgrid-tab-name: eventing-kafka-broker-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/eventing-kafka-broker"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.23"
      securityContext:
        privileged: true
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.23
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: release-account
      secret:
        secretName: release-account
- cron: "32 9 * * 2"
  name: ci-knative-sandbox-eventing-kafka-broker-0.24-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-kafka-broker
    path_alias: knative.dev/eventing-kafka-broker
    base_ref: release-0.24
  annotations:
    testgrid-dashboards: knative-sandbox-0.24
    testgrid-tab-name: eventing-kafka-broker-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/eventing-kafka-broker"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.24"
      securityContext:
        privileged: true
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.24
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: release-account
      secret:
        secretName: release-account
- cron: "15 9 * * 2"
  name: ci-knative-sandbox-eventing-kafka-broker-0.25-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-kafka-broker
    path_alias: knative.dev/eventing-kafka-broker
    base_ref: release-0.25
  annotations:
    testgrid-dashboards: knative-sandbox-0.25
    testgrid-tab-name: eventing-kafka-broker-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/eventing-kafka-broker"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.25"
      securityContext:
        privileged: true
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.25
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: release-account
      secret:
        secretName: release-account
- cron: "11 */4 * * *"
  name: ci-knative-sandbox-eventing-kafka-broker-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-kafka-broker
    path_alias: knative.dev/eventing-kafka-broker
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-kafka-broker
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/eventing-kafka-broker"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      securityContext:
        privileged: true
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: docker-graph
        mountPath: /docker-graph
      - name: modules
        mountPath: /lib/modules
      - name: cgroup
        mountPath: /sys/fs/cgroup
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: DOCKER_IN_DOCKER_ENABLED
        value: "true"
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: docker-graph
      emptyDir: {}
    - name: modules
      hostPath:
        path: /lib/modules
        type: Directory
    - name: cgroup
      hostPath:
        path: /sys/fs/cgroup
        type: Directory
    - name: release-account
      secret:
        secretName: release-account
- cron: "0 1 * * *"
  name: ci-knative-sandbox-eventing-kafka-broker-go-coverage
  labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: ci-knative-sandbox-eventing-kafka-broker-go-coverage
  agent: kubernetes
  decorate: true
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-kafka-broker
    path_alias: knative.dev/eventing-kafka-broker
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-kafka-broker
    testgrid-tab-name: eventing-kafka-broker-go-coverage
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - "runner.sh"
      args:
      - "coverage"
      - "--artifacts=$(ARTIFACTS)"
      - "--cov-threshold-percentage=50"
- cron: "53 7 * * *"
  name: ci-knative-sandbox-eventing-kafka-broker-go-coverage-beta-prow-tests
  labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: ci-knative-sandbox-eventing-kafka-broker-go-coverage
  agent: kubernetes
  decorate: true
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-kafka-broker
    path_alias: knative.dev/eventing-kafka-broker
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-eventing-kafka-broker-go-coverage
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - "runner.sh"
      args:
      - "coverage"
      - "--artifacts=$(ARTIFACTS)"
      - "--cov-threshold-percentage=50"
- cron: "35 9 * * *"
  name: ci-knative-sandbox-eventing-rabbitmq-nightly-release
  agent: kubernetes
  decorate: true
  reporter_config:
    slack:
      channel: eventing
      report_template: "The nightly release job for eventing-rabbitmq failed, check the log: <{{.Status.URL}}|View logs>"
      job_states_to_report:
      - "failure"
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-rabbitmq
    path_alias: knative.dev/eventing-rabbitmq
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-rabbitmq
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "9 */4 * * *"
  name: ci-knative-sandbox-eventing-rabbitmq-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-rabbitmq
    path_alias: knative.dev/eventing-rabbitmq
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-rabbitmq
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/eventing-rabbitmq"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "56 9 * * 2"
  name: ci-knative-sandbox-eventing-rabbitmq-0.22-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-rabbitmq
    path_alias: knative.dev/eventing-rabbitmq
    base_ref: release-0.22
  annotations:
    testgrid-dashboards: knative-sandbox-0.22
    testgrid-tab-name: eventing-rabbitmq-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/eventing-rabbitmq"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.22"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.22
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "15 9 * * 2"
  name: ci-knative-sandbox-eventing-rabbitmq-0.23-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-rabbitmq
    path_alias: knative.dev/eventing-rabbitmq
    base_ref: release-0.23
  annotations:
    testgrid-dashboards: knative-sandbox-0.23
    testgrid-tab-name: eventing-rabbitmq-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/eventing-rabbitmq"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.23"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.23
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "58 9 * * 2"
  name: ci-knative-sandbox-eventing-rabbitmq-0.24-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-rabbitmq
    path_alias: knative.dev/eventing-rabbitmq
    base_ref: release-0.24
  annotations:
    testgrid-dashboards: knative-sandbox-0.24
    testgrid-tab-name: eventing-rabbitmq-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/eventing-rabbitmq"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.24"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.24
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "49 9 * * 2"
  name: ci-knative-sandbox-eventing-rabbitmq-0.25-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-rabbitmq
    path_alias: knative.dev/eventing-rabbitmq
    base_ref: release-0.25
  annotations:
    testgrid-dashboards: knative-sandbox-0.25
    testgrid-tab-name: eventing-rabbitmq-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/eventing-rabbitmq"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.25"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.25
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "54 9 * * *"
  name: ci-knative-sandbox-eventing-natss-nightly-release
  agent: kubernetes
  decorate: true
  reporter_config:
    slack:
      channel: eventing
      report_template: "The nightly release job for eventing-natss failed, check the log: <{{.Status.URL}}|View logs>"
      job_states_to_report:
      - "failure"
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-natss
    path_alias: knative.dev/eventing-natss
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-natss
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "43 9 * * 2"
  name: ci-knative-sandbox-eventing-natss-0.22-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-natss
    path_alias: knative.dev/eventing-natss
    base_ref: release-0.22
  annotations:
    testgrid-dashboards: knative-sandbox-0.22
    testgrid-tab-name: eventing-natss-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/eventing-natss"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.22"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.22
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "52 9 * * 2"
  name: ci-knative-sandbox-eventing-natss-0.23-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-natss
    path_alias: knative.dev/eventing-natss
    base_ref: release-0.23
  annotations:
    testgrid-dashboards: knative-sandbox-0.23
    testgrid-tab-name: eventing-natss-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/eventing-natss"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.23"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.23
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "45 9 * * 2"
  name: ci-knative-sandbox-eventing-natss-0.24-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-natss
    path_alias: knative.dev/eventing-natss
    base_ref: release-0.24
  annotations:
    testgrid-dashboards: knative-sandbox-0.24
    testgrid-tab-name: eventing-natss-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/eventing-natss"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.24"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.24
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "42 9 * * 2"
  name: ci-knative-sandbox-eventing-natss-0.25-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-natss
    path_alias: knative.dev/eventing-natss
    base_ref: release-0.25
  annotations:
    testgrid-dashboards: knative-sandbox-0.25
    testgrid-tab-name: eventing-natss-dot-release
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/eventing-natss"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      - "--branch release-0.25"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
      - name: PULL_BASE_REF
        value: release-0.25
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "2 */4 * * *"
  name: ci-knative-sandbox-eventing-natss-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-natss
    path_alias: knative.dev/eventing-natss
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-natss
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/eventing-natss"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "14 */4 * * *"
  name: ci-knative-sandbox-eventing-autoscaler-keda-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-autoscaler-keda
    path_alias: knative.dev/eventing-autoscaler-keda
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-autoscaler-keda
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "26 8,11,22 * * *"
  name: ci-knative-sandbox-eventing-autoscaler-keda-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-autoscaler-keda
    path_alias: knative.dev/eventing-autoscaler-keda
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-eventing-autoscaler-keda-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "10 9 * * *"
  name: ci-knative-sandbox-eventing-autoscaler-keda-nightly-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-autoscaler-keda
    path_alias: knative.dev/eventing-autoscaler-keda
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-autoscaler-keda
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "26 9 * * 2"
  name: ci-knative-sandbox-eventing-autoscaler-keda-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-autoscaler-keda
    path_alias: knative.dev/eventing-autoscaler-keda
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-autoscaler-keda
    testgrid-tab-name: dot-release
    testgrid-alert-stale-results-hours: "170"
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/eventing-autoscaler-keda"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "50 */4 * * *"
  name: ci-knative-sandbox-eventing-autoscaler-keda-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-autoscaler-keda
    path_alias: knative.dev/eventing-autoscaler-keda
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-autoscaler-keda
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/eventing-autoscaler-keda"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "2 */4 * * *"
  name: ci-knative-sandbox-eventing-kogito-continuous
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-kogito
    path_alias: knative.dev/eventing-kogito
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-kogito
    testgrid-tab-name: continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "34 8,11,22 * * *"
  name: ci-knative-sandbox-eventing-kogito-continuous-beta-prow-tests
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-kogito
    path_alias: knative.dev/eventing-kogito
    base_ref: main
  annotations:
    testgrid-dashboards: beta-prow-tests
    testgrid-tab-name: ci-knative-sandbox-eventing-kogito-continuous
    testgrid-alert-stale-results-hours: "3"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:beta
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/presubmit-tests.sh"
      - "--all-tests"
      volumeMounts:
      - name: test-account
        mountPath: /etc/test-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/test-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: test-account
      secret:
        secretName: test-account
- cron: "38 9 * * *"
  name: ci-knative-sandbox-eventing-kogito-nightly-release
  agent: kubernetes
  decorate: true
  reporter_config:
    slack:
      channel: eventing-sources
      report_template: "The nightly release job for Kogito failed, check the log: <{{.Status.URL}}|View logs>"
      job_states_to_report:
      - "failure"
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-kogito
    path_alias: knative.dev/eventing-kogito
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-kogito
    testgrid-tab-name: nightly-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--publish"
      - "--tag-release"
      volumeMounts:
      - name: nightly-account
        mountPath: /etc/nightly-account
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/nightly-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: nightly-account
      secret:
        secretName: nightly-account
- cron: "30 9 * * 2"
  name: ci-knative-sandbox-eventing-kogito-dot-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-kogito
    path_alias: knative.dev/eventing-kogito
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-kogito
    testgrid-tab-name: dot-release
    testgrid-alert-stale-results-hours: "170"
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--dot-release"
      - "--release-gcs knative-releases/eventing-kogito"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "34 */4 * * *"
  name: ci-knative-sandbox-eventing-kogito-auto-release
  agent: kubernetes
  decorate: true
  decoration_config:
    timeout: 180m
  cluster: "build-knative"
  extra_refs:
  - org: knative-sandbox
    repo: eventing-kogito
    path_alias: knative.dev/eventing-kogito
    base_ref: main
  annotations:
    testgrid-dashboards: eventing-kogito
    testgrid-tab-name: auto-release
    testgrid-alert-email: "serverless-engprod-sea@google.com"
    testgrid-num-failures-to-alert: "1"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./hack/release.sh"
      - "--auto-release"
      - "--release-gcs knative-releases/eventing-kogito"
      - "--release-gcr gcr.io/knative-releases"
      - "--github-token /etc/hub-token/token"
      volumeMounts:
      - name: hub-token
        mountPath: /etc/hub-token
        readOnly: true
      - name: release-account
        mountPath: /etc/release-account
        readOnly: true
      env:
      - name: ORG_NAME
        value: knative-sandbox
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/release-account/service-account.json
      - name: E2E_CLUSTER_REGION
        value: us-central1
    volumes:
    - name: hub-token
      secret:
        secretName: hub-token
    - name: release-account
      secret:
        secretName: release-account
- cron: "30 07 * * *"
  name: ci-knative-serving-recreate-clusters
  agent: kubernetes
  labels:
    prow.k8s.io/pubsub.project: knative-tests
    prow.k8s.io/pubsub.topic: knative-monitoring
    prow.k8s.io/pubsub.runID: ci-knative-serving-recreate-clusters
  decorate: true
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: main
  annotations:
    testgrid-create-test-group: "false"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/performance/performance-tests.sh"
      - "--recreate-clusters"
      volumeMounts:
      - name: performance-test
        mountPath: /etc/performance-test
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/performance-test/service-account.json
      - name: GITHUB_TOKEN
        value: /etc/performance-test/github-token
      - name: SLACK_READ_TOKEN
        value: /etc/performance-test/slack-read-token
      - name: SLACK_WRITE_TOKEN
        value: /etc/performance-test/slack-write-token
    volumes:
    - name: performance-test
      secret:
        secretName: performance-test
- cron: "5 * * * *"
  name: ci-knative-serving-update-clusters
  agent: kubernetes
  labels:
    prow.k8s.io/pubsub.project: knative-tests
    prow.k8s.io/pubsub.topic: knative-monitoring
    prow.k8s.io/pubsub.runID: ci-knative-serving-update-clusters
  decorate: true
  cluster: "build-knative"
  extra_refs:
  - org: knative
    repo: serving
    path_alias: knative.dev/serving
    base_ref: main
  annotations:
    testgrid-create-test-group: "false"
  spec:
    containers:
    - image: gcr.io/knative-tests/test-infra/prow-tests:stable
      imagePullPolicy: Always
      command:
      - runner.sh
      args:
      - "./test/performance/performance-tests.sh"
      - "--update-clusters"
      volumeMounts:
      - name: performance-test
        mountPath: /etc/performance-test
        readOnly: true
      env:
      - name: GOOGLE_APPLICATION_CREDENTIALS
        value: /etc/performance-test/service-account.json
      - name: GITHUB_TOKEN
        value: /etc/performance-test/github-token
      - name: SLACK_READ_TOKEN
        value: /etc/performance-test/slack-read-token
      - name: SLACK_WRITE_TOKEN
        value: /etc/performance-test/slack-write-token
    volumes:
    - name: performance-test
      secret:
        secretName: performance-test
postsubmits:
  knative/serving:
  - name: post-knative-serving-reconcile-clusters
    branches:
    - "main"
    annotations:
      testgrid-create-test-group: "false"
    agent: kubernetes
    decorate: true
    max_concurrency: 1
    cluster: "build-knative"
    labels:
      prow.k8s.io/pubsub.project: knative-tests
      prow.k8s.io/pubsub.topic: knative-monitoring
      prow.k8s.io/pubsub.runID: post-knative-serving-reconcile-clusters
    path_alias: knative.dev/serving
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "./test/performance/performance-tests.sh"
        - "--reconcile-benchmark-clusters"
        volumeMounts:
        - name: performance-test
          mountPath: /etc/performance-test
          readOnly: true
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /etc/performance-test/service-account.json
        - name: GITHUB_TOKEN
          value: /etc/performance-test/github-token
        - name: SLACK_READ_TOKEN
          value: /etc/performance-test/slack-read-token
        - name: SLACK_WRITE_TOKEN
          value: /etc/performance-test/slack-write-token
      volumes:
      - name: performance-test
        secret:
          secretName: performance-test
  knative/client:
  - name: post-knative-client-go-coverage
    branches:
    - "main"
    annotations:
      testgrid-create-test-group: "false"
    agent: kubernetes
    decorate: true
    cluster: "build-knative"
    path_alias: knative.dev/client
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "coverage"
        - "--artifacts=$(ARTIFACTS)"
        - "--cov-threshold-percentage=0"
  knative/eventing:
  - name: post-knative-eventing-go-coverage
    branches:
    - "main"
    annotations:
      testgrid-create-test-group: "false"
    agent: kubernetes
    decorate: true
    cluster: "build-knative"
    path_alias: knative.dev/eventing
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "coverage"
        - "--artifacts=$(ARTIFACTS)"
        - "--cov-threshold-percentage=0"
  knative/docs:
  - name: post-knative-docs-go-coverage
    branches:
    - "main"
    annotations:
      testgrid-create-test-group: "false"
    agent: kubernetes
    decorate: true
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "coverage"
        - "--artifacts=$(ARTIFACTS)"
        - "--cov-threshold-percentage=0"
  knative/test-infra:
  - name: post-knative-test-infra-go-coverage
    branches:
    - "main"
    annotations:
      testgrid-create-test-group: "false"
    agent: kubernetes
    decorate: true
    cluster: "build-knative"
    path_alias: knative.dev/test-infra
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "coverage"
        - "--artifacts=$(ARTIFACTS)"
        - "--cov-threshold-percentage=0"
  google/knative-gcp:
  - name: post-google-knative-gcp-go-coverage
    branches:
    - "main"
    annotations:
      testgrid-create-test-group: "false"
    agent: kubernetes
    decorate: true
    cluster: "build-knative"
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "coverage"
        - "--artifacts=$(ARTIFACTS)"
        - "--cov-threshold-percentage=0"
  knative-sandbox/net-certmanager:
  - name: post-knative-sandbox-net-certmanager-go-coverage
    branches:
    - "main"
    annotations:
      testgrid-create-test-group: "false"
    agent: kubernetes
    decorate: true
    cluster: "build-knative"
    path_alias: knative.dev/net-certmanager
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "coverage"
        - "--artifacts=$(ARTIFACTS)"
        - "--cov-threshold-percentage=0"
  knative-sandbox/net-istio:
  - name: post-knative-sandbox-net-istio-go-coverage
    branches:
    - "main"
    annotations:
      testgrid-create-test-group: "false"
    agent: kubernetes
    decorate: true
    cluster: "build-knative"
    path_alias: knative.dev/net-istio
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "coverage"
        - "--artifacts=$(ARTIFACTS)"
        - "--cov-threshold-percentage=0"
  knative-sandbox/net-kourier:
  - name: post-knative-sandbox-net-kourier-go-coverage
    branches:
    - "main"
    annotations:
      testgrid-create-test-group: "false"
    agent: kubernetes
    decorate: true
    cluster: "build-knative"
    path_alias: knative.dev/net-kourier
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "coverage"
        - "--artifacts=$(ARTIFACTS)"
        - "--cov-threshold-percentage=0"
  knative/operator:
  - name: post-knative-operator-go-coverage
    branches:
    - "main"
    annotations:
      testgrid-create-test-group: "false"
    agent: kubernetes
    decorate: true
    cluster: "build-knative"
    path_alias: knative.dev/operator
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "coverage"
        - "--artifacts=$(ARTIFACTS)"
        - "--cov-threshold-percentage=0"
  knative-sandbox/async-component:
  - name: post-knative-sandbox-async-component-go-coverage
    branches:
    - "main"
    annotations:
      testgrid-create-test-group: "false"
    agent: kubernetes
    decorate: true
    cluster: "build-knative"
    path_alias: knative.dev/async-component
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "coverage"
        - "--artifacts=$(ARTIFACTS)"
        - "--cov-threshold-percentage=0"
  knative-sandbox/eventing-kafka:
  - name: post-knative-sandbox-eventing-kafka-go-coverage
    branches:
    - "main"
    annotations:
      testgrid-create-test-group: "false"
    agent: kubernetes
    decorate: true
    cluster: "build-knative"
    path_alias: knative.dev/eventing-kafka
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "coverage"
        - "--artifacts=$(ARTIFACTS)"
        - "--cov-threshold-percentage=0"
  knative-sandbox/eventing-kafka-broker:
  - name: post-knative-sandbox-eventing-kafka-broker-go-coverage
    branches:
    - "main"
    annotations:
      testgrid-create-test-group: "false"
    agent: kubernetes
    decorate: true
    cluster: "build-knative"
    path_alias: knative.dev/eventing-kafka-broker
    spec:
      containers:
      - image: gcr.io/knative-tests/test-infra/prow-tests:stable
        imagePullPolicy: Always
        command:
        - runner.sh
        args:
        - "coverage"
        - "--artifacts=$(ARTIFACTS)"
        - "--cov-threshold-percentage=0"
